<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="BNM Form">
    <!-- Android Chrome -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">
    <title>Asans√∂r Teknik √ñl√ß√ºm Formu - BNM M√ºhendislik</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a1a2e;
            --secondary: #16213e;
            --accent: #0f3460;
            --highlight: #e94560;
            --light: #f1f1f1;
            --shadow: rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--primary);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-30px, -30px) scale(1.1); }
        }

        .logo {
            font-family: 'Space Mono', monospace;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .progress-wrapper {
            position: relative;
            z-index: 1;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            font-size: 12px;
            opacity: 0.5;
            transition: all 0.3s;
        }

        .progress-step.active {
            opacity: 1;
            font-weight: 600;
        }

        .progress-bar-bg {
            background: rgba(255, 255, 255, 0.2);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-bar {
            background: var(--highlight);
            height: 100%;
            width: 11.11%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--highlight);
        }

        .form-content {
            padding: 50px;
        }

        .section {
            display: none;
            animation: fadeSlideIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: 26px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--highlight);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-icon {
            font-size: 32px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--secondary);
            font-size: 14px;
        }

        input[type="text"],
        input[type="date"],
        input[type="email"],
        select {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
            background: #fafafa;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--highlight);
            background: white;
            box-shadow: 0 0 0 4px rgba(233, 69, 96, 0.1);
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: center;
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            background: #fafafa;
        }

        .checkbox-item:hover,
        .radio-item:hover {
            border-color: var(--highlight);
            background: white;
        }

        .checkbox-item.selected,
        .radio-item.selected {
            border-color: var(--highlight);
            background: rgba(233, 69, 96, 0.1);
        }

        input[type="checkbox"],
        input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: var(--highlight);
        }

        .photo-section {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 16px;
            margin: 30px 0;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .photo-placeholder {
            aspect-ratio: 4/3;
            background: white;
            border: 3px dashed #d0d0d0;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #999;
            cursor: pointer;
            transition: all 0.3s;
        }

        .photo-placeholder:hover {
            border-color: var(--highlight);
            background: #fafafa;
        }

        .photo-label {
            font-size: 13px;
            color: #666;
            margin-top: 8px;
        }

        .machine-room-designer {
            background: #f5f5f5;
            padding: 30px;
            border-radius: 16px;
            margin: 30px 0;
        }

        .designer-grid {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            align-items: start;
        }

        .components-panel {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 600px;
            overflow-y: auto;
            position: sticky;
            top: 20px;
        }

        .components-panel h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .components-panel p {
            margin-bottom: 10px;
            font-size: 11px;
        }

        .icon-add-btn {
            padding: 12px;
            background: var(--light);
            border: 2px solid var(--accent);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s;
            color: var(--primary);
        }

        .icon-add-btn:hover {
            background: var(--accent);
            color: white;
            transform: scale(1.05);
        }

        .icon-add-btn:active {
            transform: scale(0.95);
        }

        .draggable-component {
            padding: 12px;
            background: var(--light);
            border: 2px solid var(--accent);
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: grab;
            text-align: center;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .draggable-component:hover {
            background: var(--accent);
            color: white;
            transform: scale(1.05);
        }

        .draggable-component:active {
            cursor: grabbing;
        }

        .canvas-area {
            background: white;
            border: 3px solid #e0e0e0;
            border-radius: 12px;
            position: relative;
            min-height: 500px;
            background-image: 
                linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .placed-component {
            position: absolute;
            padding: 10px;
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid var(--accent);
            border-radius: 8px;
            cursor: move;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            min-width: 80px;
            min-height: 60px;
            touch-action: none;
        }

        .placed-component:hover {
            background: rgba(102, 126, 234, 0.2);
            z-index: 10;
        }

        .rotate-handle {
            position: absolute;
            top: -25px;
            right: -25px;
            width: 30px;
            height: 30px;
            background: var(--highlight);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .delete-handle {
            position: absolute;
            top: -25px;
            left: -25px;
            width: 30px;
            height: 30px;
            background: #e74c3c;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            padding: 30px 50px;
            background: #fafafa;
        }

        .btn {
            flex: 1;
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-prev {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-prev:hover {
            background: var(--primary);
            color: white;
            transform: translateX(-5px);
        }

        .btn-next {
            background: var(--highlight);
            color: white;
        }

        .btn-next:hover {
            background: #d63851;
            transform: translateX(5px);
            box-shadow: 0 8px 20px rgba(233, 69, 96, 0.4);
        }

        .btn-submit {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-submit:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(17, 153, 142, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            padding: 18px 28px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            animation: slideIn 0.3s ease;
            max-width: 400px;
        }

        .toast.success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .toast.error {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .floor-inputs {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 12px;
            border: 2px dashed #d0d0d0;
        }

        .floor-inputs.active {
            display: block;
        }

        .floor-input-group {
            display: grid;
            grid-template-columns: 150px 1fr;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
        }

        .floor-label {
            font-weight: 600;
            color: var(--secondary);
            text-align: right;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 16px;
            }

            .header {
                padding: 25px 20px;
            }

            .header h1 {
                font-size: 22px;
            }

            .form-content {
                padding: 30px 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .designer-grid {
                grid-template-columns: 1fr;
            }

            .buttons {
                flex-direction: column;
                padding: 20px;
            }

            .photo-grid {
                grid-template-columns: 1fr;
            }

            .section-title {
                font-size: 20px;
            }

            .progress-steps {
                font-size: 10px;
                gap: 5px;
            }

            #drawingCanvas {
                width: 100% !important;
                max-width: 100%;
                height: 400px !important;
            }

            .canvas-area {
                min-height: 400px;
            }

            .components-panel {
                max-height: 250px;
                overflow-y: auto;
                margin-bottom: 20px;
            }

            .draggable-component {
                font-size: 11px;
                padding: 8px;
            }

            input[type="text"],
            input[type="date"],
            input[type="email"],
            select {
                font-size: 16px; /* Prevents auto-zoom on iOS */
            }

            .btn-tool {
                padding: 8px 12px !important;
                font-size: 13px;
            }

            .placed-component {
                font-size: 11px;
                min-width: 60px;
                min-height: 50px;
            }

            .rotate-handle, .delete-handle {
                width: 25px;
                height: 25px;
                font-size: 12px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 5px;
            }

            .header {
                padding: 20px 15px;
            }

            .logo {
                font-size: 18px;
            }

            .header h1 {
                font-size: 18px;
                margin-bottom: 15px;
            }

            .form-content {
                padding: 20px 15px;
            }

            .section-title {
                font-size: 18px;
                gap: 10px;
            }

            .section-icon {
                font-size: 24px;
            }

            .btn {
                padding: 12px 20px;
                font-size: 14px;
            }

            .progress-steps .progress-step {
                font-size: 8px;
            }

            .machine-room-designer h3 {
                font-size: 16px;
            }

            #drawingCanvas {
                height: 300px !important;
            }

            .canvas-area {
                min-height: 300px;
            }

            input[type="color"] {
                width: 50px;
                height: 35px;
            }

            .components-panel {
                max-height: 180px;
            }

            .photo-section {
                padding: 20px;
            }
            
            /* Di≈ülili askƒ± tipi mobile */
            .aski-option {
                padding: 10px !important;
            }
            
            .aski-option svg {
                max-width: 80px !important;
                height: auto !important;
            }
            
            /* Fabric.js mobile responsive */
            canvas#fabricCanvas {
                max-width: 100% !important;
                height: auto !important;
            }
            
            [style*="grid-template-columns: 200px 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
        }
    </style>
    <!-- Fabric.js for Drawing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">BNM M√úHENDƒ∞SLƒ∞K</div>
            <h1>Asans√∂r Teknik √ñl√ß√ºm Formu</h1>
            <div class="progress-wrapper">
                <div class="progress-steps">
                    <div class="progress-step active" data-step="1">Genel</div>
                    <div class="progress-step" data-step="2">√ñzellikler</div>
                    <div class="progress-step" data-step="3">Kabin</div>
                    <div class="progress-step" data-step="4">Kapƒ±</div>
                    <div class="progress-step" data-step="5">Kuyu</div>
                    <div class="progress-step" data-step="6">Ray</div>
                    <div class="progress-step" data-step="7">Ekipman</div>
                    <div class="progress-step" data-step="8">Makine</div>
                    <div class="progress-step" data-step="9">M.Dairesi</div>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </div>

        <form id="elevatorForm">
            <div class="form-content">
                <!-- B√∂l√ºm 1: Genel Bilgiler -->
                <div class="section active" data-section="1">
                    <div class="section-title">
                        <span class="section-icon">üìã</span>
                        <span>Genel Bilgiler</span>
                    </div>

                    <div class="form-group">
                        <label for="tarih">Tarih *</label>
                        <input type="date" id="tarih" required>
                    </div>
                    <script>
                        // Set today's date automatically
                        document.getElementById('tarih').valueAsDate = new Date();
                    </script>

                    <div class="form-group">
                        <label for="firma">Asans√∂r Firmasƒ± *</label>
                        <input type="text" id="firma" placeholder="Asans√∂r firmasƒ±" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="muteahhit">M√ºteahhit</label>
                            <input type="text" id="muteahhit" placeholder="M√ºteahhit">
                        </div>
                        <div class="form-group">
                            <label for="yapi_sahibi">Yapƒ± Sahibi</label>
                            <input type="text" id="yapi_sahibi" placeholder="Yapƒ± sahibi">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="yapi_adresi">Yapƒ± Adresi</label>
                        <input type="text" id="yapi_adresi" placeholder="Yapƒ± adresi">
                    </div>

                    <div class="form-group">
                        <label>Ada / Pafta / Parsel</label>
                        <div style="display: grid; grid-template-columns: 1fr auto 1fr auto 1fr; gap: 10px; align-items: center;">
                            <input type="text" id="ada" placeholder="Ada" style="margin: 0;">
                            <span style="font-size: 20px; font-weight: bold; color: #666;">/</span>
                            <input type="text" id="pafta" placeholder="Pafta" style="margin: 0;">
                            <span style="font-size: 20px; font-weight: bold; color: #666;">/</span>
                            <input type="text" id="parsel" placeholder="Parsel" style="margin: 0;">
                        </div>
                    </div>
                </div>

                <!-- B√∂l√ºm 2: Asans√∂r √ñzellikleri -->
                <div class="section" data-section="2">
                    <div class="section-title">
                        <span class="section-icon">üèóÔ∏è</span>
                        <span>Asans√∂r √ñzellikleri</span>
                    </div>

                    <div class="form-group">
                        <label for="seri_no">Asans√∂r Seri No *</label>
                        <input type="text" id="seri_no" placeholder="Seri numarasƒ±" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="hiz">Hƒ±z *</label>
                            <select id="hiz" required>
                                <option value="">Se√ßiniz...</option>
                                <option value="0.8 m/s">0.8 m/s</option>
                                <option value="1 m/s">1 m/s</option>
                                <option value="1.2 m/s">1.2 m/s</option>
                                <option value="1.6 m/s">1.6 m/s</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="kapasite">Ki≈üi Sayƒ±sƒ± / Kapasite *</label>
                            <select id="kapasite" required>
                                <option value="">Se√ßiniz...</option>
                                <option value="4 ki≈üi / 300 kg">4 ki≈üi / 300 kg</option>
                                <option value="5 ki≈üi / 400 kg">5 ki≈üi / 400 kg</option>
                                <option value="6 ki≈üi / 450 kg">6 ki≈üi / 450 kg</option>
                                <option value="8 ki≈üi / 630 kg">8 ki≈üi / 630 kg</option>
                                <option value="10 ki≈üi / 800 kg">10 ki≈üi / 800 kg</option>
                                <option value="13 ki≈üi / 1000 kg">13 ki≈üi / 1000 kg</option>
                                <option value="16 ki≈üi / 1200 kg">16 ki≈üi / 1200 kg</option>
                                <option value="21 ki≈üi / 1600 kg">21 ki≈üi / 1600 kg</option>
                                <option value="diger">Diƒüer</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group" id="kapasite_diger_group" style="display: none;">
                        <label for="kapasite_diger">Kapasite (√∂rn: 800 kg)</label>
                        <input type="text" id="kapasite_diger" placeholder="√ñrn: 800 kg">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="durak_sayisi">Durak Sayƒ±sƒ± *</label>
                            <select id="durak_sayisi" required>
                                <option value="">Se√ßiniz...</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="seyir_mesafesi">Seyir Mesafesi (m)</label>
                            <input type="text" id="seyir_mesafesi" placeholder="√ñrn: 15.5">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Makine Dairesi *</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="makine_dairesi" value="var" required>
                                <span>Var</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="makine_dairesi" value="yok">
                                <span>Yok</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- B√∂l√ºm 3: Kabin √ñl√ß√ºleri -->
                <div class="section" data-section="3">
                    <div class="section-title">
                        <span class="section-icon">üìê</span>
                        <span>Kabin √ñl√ß√ºleri</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kabin_eni">Kabin Eni (cm)</label>
                            <input type="text" id="kabin_eni" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="kabin_derinlik">Kabin Derinliƒüi (cm)</label>
                            <input type="text" id="kabin_derinlik" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="sol_antre">Sol Antre (cm)</label>
                            <input type="text" id="sol_antre" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="sag_antre">Saƒü Antre (cm)</label>
                            <input type="text" id="sag_antre" placeholder="cm">
                        </div>
                    </div>

                </div>

                <!-- B√∂l√ºm 4: Kapƒ± Bilgileri -->
                <div class="section" data-section="4">
                    <div class="section-title">
                        <span class="section-icon">üö™</span>
                        <span>Kapƒ± Bilgileri</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kapi_tipi">Kapƒ± Tipi</label>
                            <select id="kapi_tipi">
                                <option value="">Se√ßiniz...</option>
                                <option value="Otomatik Merkezi">Otomatik Merkezi</option>
                                <option value="Otomatik Teleskopik">Otomatik Teleskopik</option>
                                <option value="√áarpma Kapƒ±">√áarpma Kapƒ±</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="panel_sayisi">Panel Sayƒ±sƒ±</label>
                            <select id="panel_sayisi">
                                <option value="">Se√ßiniz...</option>
                                <option value="2">2 Panel</option>
                                <option value="3">3 Panel</option>
                                <option value="4">4 Panel</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kapi_genislik">Kapƒ± Geni≈üliƒüi (cm)</label>
                            <select id="kapi_genislik">
                                <option value="">Se√ßiniz...</option>
                                <option value="70">70 cm</option>
                                <option value="80">80 cm</option>
                                <option value="90">90 cm</option>
                                <option value="110">110 cm</option>
                                <option value="130">130 cm</option>
                                <option value="diger">Diƒüer</option>
                            </select>
                        </div>
                        <div class="form-group" id="kapi_genislik_diger_group" style="display: none;">
                            <label for="kapi_genislik_diger">Kapƒ± Geni≈üliƒüi - Diƒüer (cm)</label>
                            <input type="text" id="kapi_genislik_diger" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="kapi_toplama">Kapƒ± Toplama Y√∂n√º</label>
                        <select id="kapi_toplama">
                            <option value="">Se√ßiniz...</option>
                            <option value="Merkezi">Merkezi</option>
                            <option value="Saƒüa Toplar">Saƒüa Toplar</option>
                            <option value="Sola Toplar">Sola Toplar</option>
                        </select>
                    </div>
                </div>

                <!-- B√∂l√ºm 5: Kuyu √ñl√ß√ºleri -->
                <div class="section" data-section="5">
                    <div class="section-title">
                        <span class="section-icon">üï≥Ô∏è</span>
                        <span>Kuyu √ñl√ß√ºleri</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kuyu_genislik">Kuyu Geni≈üliƒüi (cm)</label>
                            <input type="text" id="kuyu_genislik" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="kuyu_derinlik">Kuyu Derinliƒüi (cm)</label>
                            <input type="text" id="kuyu_derinlik" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kat_yukseklik">Kat Y√ºksekliƒüi (cm)</label>
                            <input type="text" id="kat_yukseklik" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="konsol">Konsollar Arasƒ± Max Mesafe (cm)</label>
                            <input type="text" id="konsol" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kuyu_dibi">Kuyu Dibi (cm)</label>
                            <input type="text" id="kuyu_dibi" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="kumbet_yuk">K√ºmbet Y√ºksekliƒüi (cm)</label>
                            <input type="text" id="kumbet_yuk" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="son_kat_yuk">Son Kat Y√ºksekliƒüi (cm)</label>
                            <input type="text" id="son_kat_yuk" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="kumbet_tavan">K√ºmbet-Tavan (cm)</label>
                            <input type="text" id="kumbet_tavan" placeholder="cm">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>üì∏ Kuyu Fotoƒüraflarƒ±</h3>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">Kuyu i√ßi g√∂r√ºnt√ºleri</p>
                        <div class="photo-grid">
                            <div class="photo-placeholder">
                                <span>üì∑</span>
                                <span class="photo-label">Kuyu √úst</span>
                            </div>
                            <div class="photo-placeholder">
                                <span>üì∑</span>
                                <span class="photo-label">Kuyu Alt</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- B√∂l√ºm 6: Ray ve Aƒüƒ±rlƒ±k Sistemi -->
                <div class="section" data-section="6">
                    <div class="section-title">
                        <span class="section-icon">‚öôÔ∏è</span>
                        <span>Ray ve Aƒüƒ±rlƒ±k Sistemi</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ana_ray">Ana Ray</label>
                            <select id="ana_ray">
                                <option value="">Se√ßiniz...</option>
                                <option value="70">70</option>
                                <option value="89">89</option>
                                <option value="90">90</option>
                                <option value="125">125</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="agirlik_ray">Aƒüƒ±rlƒ±k Rayƒ±</label>
                            <select id="agirlik_ray">
                                <option value="">Se√ßiniz...</option>
                                <option value="50">50</option>
                                <option value="70">70</option>
                                <option value="90">90</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="agirlik_yeri">Aƒüƒ±rlƒ±k Yeri</label>
                            <select id="agirlik_yeri">
                                <option value="">Se√ßiniz...</option>
                                <option value="Arkada">Arkada</option>
                                <option value="Solda">Solda</option>
                                <option value="Saƒüda">Saƒüda</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="regulator_yeri">Reg√ºlat√∂r Yeri</label>
                            <select id="regulator_yeri">
                                <option value="">Se√ßiniz...</option>
                                <option value="Sol √ñn">Sol √ñn</option>
                                <option value="Sol Arka">Sol Arka</option>
                                <option value="Saƒü √ñn">Saƒü √ñn</option>
                                <option value="Saƒü Arka">Saƒü Arka</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kabin_ray_arasi">Kabin Raylarƒ± Arasƒ± (cm)</label>
                            <input type="text" id="kabin_ray_arasi" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="agirlik_ray_arasi">Aƒüƒ±rlƒ±k Raylarƒ± Arasƒ± (cm)</label>
                            <input type="text" id="agirlik_ray_arasi" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ray_kapi">Ray - Kapƒ± Arasƒ± (cm)</label>
                            <input type="text" id="ray_kapi" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="ray_ray">Ray - Ray Arasƒ± (cm)</label>
                            <input type="text" id="ray_ray" placeholder="cm">
                        </div>
                    </div>
                </div>

                <!-- B√∂l√ºm 7: Ekipman Bilgileri -->
                <div class="section" data-section="7">
                    <div class="section-title">
                        <span class="section-icon">üîß</span>
                        <span>G√ºvenlik Komponent Listesi</span>
                    </div>

                    <div class="photo-section">
                        <h3>Makine-Motor</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="makine_marka">Marka</label>
                                <input type="text" id="makine_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="makine_model">Model</label>
                                <input type="text" id="makine_model" placeholder="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="makine_seri">Seri No</label>
                            <input type="text" id="makine_seri" placeholder="Seri No">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>Hƒ±z Reg√ºlat√∂r√º</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="regulator_marka">Marka</label>
                                <input type="text" id="regulator_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="regulator_model">Model</label>
                                <input type="text" id="regulator_model" placeholder="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="regulator_seri">Seri No</label>
                            <input type="text" id="regulator_seri" placeholder="Seri No">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>Kumanda Kartƒ±</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="kumanda_marka">Marka</label>
                                <input type="text" id="kumanda_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="kumanda_model">Model</label>
                                <input type="text" id="kumanda_model" placeholder="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="kumanda_seri">Seri No</label>
                            <input type="text" id="kumanda_seri" placeholder="Seri No">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>Fren Bloƒüu</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fren_marka">Marka</label>
                                <input type="text" id="fren_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="fren_model">Model</label>
                                <input type="text" id="fren_model" placeholder="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="fren_seri">Seri No</label>
                            <input type="text" id="fren_seri" placeholder="Seri No">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>Kabin Tamponu</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="kabin_tampon_marka">Marka</label>
                                <input type="text" id="kabin_tampon_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="kabin_tampon_model">Model</label>
                                <input type="text" id="kabin_tampon_model" placeholder="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="kabin_tampon_seri">Seri No</label>
                            <input type="text" id="kabin_tampon_seri" placeholder="Seri No">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>Aƒüƒ±rlƒ±k Tamponu</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="agirlik_tampon_marka">Marka</label>
                                <input type="text" id="agirlik_tampon_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="agirlik_tampon_model">Model</label>
                                <input type="text" id="agirlik_tampon_model" placeholder="Model">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="agirlik_tampon_seri">Seri No</label>
                            <input type="text" id="agirlik_tampon_seri" placeholder="Seri No">
                        </div>
                    </div>

                    <div class="photo-section">
                        <h3>Kapƒ± Kilitleri</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="kapi_kilidi_marka">Marka</label>
                                <input type="text" id="kapi_kilidi_marka" placeholder="Marka">
                            </div>
                            <div class="form-group">
                                <label for="kapi_kilidi_model">Model</label>
                                <input type="text" id="kapi_kilidi_model" placeholder="Model">
                            </div>
                        </div>
                        
                        <!-- Ba≈ülangƒ±√ß Katƒ± Se√ßici -->
                        <div class="form-group" style="margin-top: 15px;">
                            <label for="start_floor">Ba≈ülangƒ±√ß Katƒ±</label>
                            <select id="start_floor" style="padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; width: 100%;">
                                <option value="-3">-3. Kat</option>
                                <option value="-2">-2. Kat</option>
                                <option value="-1">-1. Kat</option>
                                <option value="0" selected>0 (Zemin)</option>
                                <option value="1">1. Kat</option>
                            </select>
                        </div>
                        
                        <div id="kapi_kilidi_seriler" class="floor-inputs">
                            <!-- Kat seri numaralarƒ± buraya eklenecek -->
                        </div>
                    </div>
                </div>

                <!-- B√∂l√ºm 8: Makine √ñzellikleri -->
                <div class="section" data-section="8">
                    <div class="section-title">
                        <span class="section-icon">‚ö°</span>
                        <span>Makine √ñzellikleri</span>
                    </div>

                    <div class="form-group">
                        <label>Makine Tipi</label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="makine_tipi" value="Di≈ülili">
                                <span>Di≈ülili</span>
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="makine_tipi" value="Di≈ülisiz">
                                <span>Di≈ülisiz</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="kasnak_capi">Makine Kasnak √áapƒ±</label>
                        <select id="kasnak_capi">
                            <option value="">Se√ßiniz...</option>
                            <option value="√ò210">√ò210</option>
                            <option value="√ò240">√ò240</option>
                            <option value="√ò320">√ò320</option>
                            <option value="√ò425">√ò425</option>
                            <option value="√ò480">√ò480</option>
                            <option value="√ò530">√ò530</option>
                        </select>
                    </div>

                    <!-- Di≈ülisiz Se√ßenekleri -->
                    <div id="dislisiz_section" style="display: none;">
                        <div class="form-group">
                            <label for="kasnak_konum">Di≈ülisiz Kabin-Kasnak Konumu</label>
                            <select id="kasnak_konum" onchange="toggleKasnakRayPosition()">
                                <option value="">Se√ßiniz...</option>
                                <option value="altta">Altta</option>
                                <option value="√ºstte">√ústte</option>
                            </select>
                        </div>
                        
                        <!-- Kasnak Ray Position - shown only when "Altta" selected -->
                        <div class="form-group" id="kasnak_ray_position_group" style="display: none;">
                            <label for="kasnak_ray_position">Kasnaklar Ana Ray Konumu</label>
                            <select id="kasnak_ray_position">
                                <option value="">Se√ßiniz...</option>
                                <option value="√∂n√ºnde">Kasnaklar Ana Ray √ñn√ºnde</option>
                                <option value="arkasƒ±nda">Kasnaklar Ana Ray Arkasƒ±nda</option>
                            </select>
                        </div>
                    </div>

                    <!-- Di≈ülili Se√ßenekleri -->
                    <div id="dislili_section" style="display: none;">
                        <div class="form-group">
                            <label style="text-align: center; font-size: 16px; margin-bottom: 20px; display: block;">Di≈ülili Askƒ± Tipi</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 15px;">
                                <!-- 1:1 Suspension -->
                                <div style="text-align: center; padding: 20px; border: 2px solid #e0e0e0; border-radius: 12px; cursor: pointer; background: white;" class="aski-option" data-value="1:1">
                                    <?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="105.000000pt" height="226.000000pt" viewBox="0 0 105.000000 226.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,226.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M720 2167 c-19 -7 -71 -41 -115 -75 -236 -181 -321 -251 -332 -273
-10 -18 -13 -155 -13 -561 l0 -538 -120 0 -120 0 2 -142 2 -143 3 138 4 137
229 0 c127 0 231 -1 231 -2 1 -2 5 -75 9 -163 l7 -160 -1 165 -1 165 -117 3
-118 3 0 491 0 492 31 -30 c25 -24 39 -29 79 -29 40 0 54 5 79 29 17 17 31 34
31 39 0 5 -9 -2 -20 -15 -45 -58 -129 -61 -174 -7 -41 48 -33 120 18 161 33
27 107 24 139 -6 25 -23 31 -38 40 -96 3 -20 5 -18 6 8 2 67 -46 122 -109 122
l-35 1 35 30 c19 17 79 64 132 105 l98 75 -6 -44 c-8 -59 9 -109 51 -146 65
-57 157 -51 214 14 l31 36 0 -181 0 -180 30 0 30 0 -1 -125 -1 -125 -48 0 -48
0 -1 122 c-1 87 3 124 12 130 8 5 7 8 -5 8 -17 0 -18 -22 -18 -314 l0 -314 30
-4 c17 -3 33 -1 36 4 3 4 -9 8 -25 8 -29 0 -31 3 -31 35 l0 35 50 0 50 0 0
-35 c0 -26 -4 -35 -17 -35 -12 0 -14 -3 -6 -11 29 -29 33 5 33 316 l0 314 -27
3 -28 3 -5 237 c-5 221 -6 238 -26 265 -42 56 -115 81 -174 60z m103 -23 c51
-26 60 -36 45 -45 -9 -6 -8 -9 6 -9 19 0 19 0 0 -22 -19 -21 -19 -21 4 -16 23
6 32 -7 10 -15 -10 -3 -10 -7 0 -20 8 -9 12 -22 9 -29 -4 -8 -6 -7 -6 5 -1 9
-9 17 -19 17 -10 0 -23 5 -30 12 -9 9 -12 9 -12 0 0 -6 12 -15 26 -18 15 -4
23 -12 20 -20 -3 -7 0 -14 7 -17 7 -2 3 -11 -10 -22 -12 -10 -20 -22 -17 -27
10 -16 -69 -40 -114 -35 -48 5 -77 26 -79 58 -1 11 -10 27 -20 34 -14 10 -15
16 -5 27 6 8 9 18 5 21 -8 9 30 9 51 1 9 -3 16 -11 16 -17 0 -6 7 -19 17 -29
36 -40 102 -5 89 49 -4 15 -7 34 -8 42 -2 20 -69 6 -88 -18 -13 -16 -21 -18
-55 -11 -22 4 -31 8 -20 9 17 1 18 3 5 11 -12 8 -8 10 15 11 l30 1 -30 7 c-29
7 -29 7 -7 15 12 4 20 11 17 16 -8 13 57 50 88 50 15 0 42 -7 60 -16z m145
-856 l3 -38 -50 0 -51 0 0 41 0 40 48 -3 c47 -3 47 -3 50 -40z m-1 -135 l2
-83 -49 0 -49 0 0 86 0 85 47 -3 47 -3 2 -82z"/>
<path d="M728 2093 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"/>
<path d="M648 1983 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>
<path d="M828 1963 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"/>
<path d="M768 1933 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>
<path d="M903 1153 c9 -2 25 -2 35 0 9 3 1 5 -18 5 -19 0 -27 -2 -17 -5z"/>
<path d="M222 658 c-7 -7 -12 -17 -12 -22 0 -6 5 -3 11 7 20 34 75 10 67 -30
-4 -22 -43 -29 -64 -13 -7 7 -14 9 -14 5 0 -4 8 -14 18 -21 15 -12 13 -13 -18
-14 -20 0 -41 -5 -48 -12 -17 -17 -16 -172 1 -187 8 -6 17 -8 20 -4 4 3 7 -44
7 -105 0 -123 -2 -120 75 -118 l40 1 3 107 c2 96 5 107 22 113 11 4 20 11 20
16 0 6 -4 8 -10 4 -5 -3 -10 22 -12 62 -2 37 -7 68 -13 68 -6 0 -11 -70 -13
-183 -2 -168 -4 -183 -20 -180 -15 3 -17 18 -20 111 -4 140 -22 132 -22 -9 0
-95 -2 -105 -17 -102 -16 3 -18 21 -21 186 -2 140 -5 183 -15 179 -7 -2 -14
-31 -18 -73 l-5 -69 -2 86 c-2 101 -4 99 98 99 55 0 71 -4 79 -17 6 -10 11
-13 11 -7 0 19 -24 34 -54 34 -28 0 -28 1 -13 18 21 23 22 46 1 66 -18 19 -45
21 -62 4z"/>
<path d="M22 183 l-2 -103 103 2 102 2 -97 3 -97 4 -4 97 -3 97 -2 -102z"/>
<path d="M496 173 l-9 -82 -66 -4 -66 -3 73 -2 c53 -1 74 2 78 11 3 8 4 47 2
88 l-3 74 -9 -82z"/>
</g>
</svg>
                                    <!-- Checkbox below -->
                                    <div style="margin-top: 15px; display: flex; justify-content: center; align-items: center;">
                                        <label style="display: flex; align-items: center; cursor: pointer;">
                                            <input type="checkbox" name="aski_type" value="1:1" style="width: 20px; height: 20px; cursor: pointer;">
                                        </label>
                                    </div>
                                </div>
                                
                                <!-- 2:1 Suspension -->
                                <div style="text-align: center; padding: 20px; border: 2px solid #e0e0e0; border-radius: 12px; cursor: pointer; background: white;" class="aski-option" data-value="2:1">
                                    <?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="115.000000pt" height="220.000000pt" viewBox="0 0 115.000000 220.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,220.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M414 2116 c-56 -25 -97 -102 -92 -173 1 -15 1 -301 0 -635 l-2 -608
-115 0 -115 0 0 -315 0 -315 240 0 240 0 0 315 0 315 -120 0 -120 0 0 605 0
606 38 -40 c65 -68 159 -68 223 -1 41 43 55 95 40 147 -9 31 -6 30 91 -45 56
-42 116 -91 134 -107 18 -17 44 -37 59 -45 71 -38 73 -144 3 -188 -18 -12 -28
-22 -21 -22 6 0 25 12 42 26 l31 26 0 -46 c0 -42 -2 -46 -25 -46 l-25 0 0
-315 0 -315 60 0 60 0 -2 313 -3 312 -27 3 -28 3 0 89 c0 49 -5 101 -12 116
-13 28 -391 328 -434 344 -35 14 -83 12 -120 -4z m125 -17 c17 -6 32 -15 32
-20 1 -5 2 -15 3 -21 1 -7 8 -12 16 -10 9 1 5 -6 -9 -18 -15 -13 -18 -20 -9
-20 8 0 20 6 27 13 11 10 13 10 7 0 -4 -7 -2 -13 3 -13 6 0 11 -13 11 -30 0
-23 -4 -28 -16 -23 -14 5 -15 3 -4 -17 8 -15 8 -20 1 -16 -6 4 -11 2 -11 -3 0
-6 -8 -11 -17 -12 -16 0 -17 -1 -1 -7 13 -6 14 -10 5 -23 -19 -26 -53 -39
-100 -39 -36 0 -50 6 -77 31 -25 25 -29 33 -19 40 10 6 7 9 -11 10 -23 0 -23
1 -5 9 l20 9 -20 1 c-17 2 -16 3 5 10 25 8 25 8 -5 10 -18 1 -23 4 -12 7 9 2
14 9 11 15 -5 7 4 9 24 6 17 -2 29 -1 26 4 -3 4 -19 8 -36 8 l-31 0 23 20 c21
18 22 20 4 21 -14 0 -15 2 -4 6 8 3 27 18 42 34 30 32 70 38 127 18z m479
-626 l3 -83 -46 0 -45 0 0 78 c0 43 3 81 6 85 4 3 23 5 43 4 l36 -2 3 -82z m2
-133 l0 -40 -45 0 -45 0 0 40 0 40 45 0 45 0 0 -40z m0 -85 c0 -35 0 -35 -45
-35 -45 0 -45 0 -45 35 0 35 0 35 45 35 45 0 45 0 45 -35z m0 -90 c0 -35 0
-35 -45 -35 -45 0 -45 0 -45 35 0 35 0 35 45 35 45 0 45 0 45 -35z m0 -85 l0
-40 -45 0 -45 0 0 40 0 40 45 0 45 0 0 -40z m0 -90 l0 -40 -45 0 -45 0 0 40 0
40 45 0 45 0 0 -40z m-462 -608 l2 -302 -227 2 -228 3 -3 290 c-1 159 0 296 3
303 3 10 53 12 227 10 l223 -3 3 -303z"/>
<path d="M508 2083 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>
<path d="M476 2061 c-3 -4 6 -6 19 -3 14 2 25 6 25 8 0 8 -39 4 -44 -5z"/>
<path d="M460 2029 c-25 -3 -39 -7 -32 -7 8 -1 10 -10 6 -26 -9 -38 4 -63 38
-75 38 -14 58 -14 38 -1 -12 8 -11 10 6 10 17 0 20 6 20 33 -2 54 -23 73 -76
66z m45 -29 c3 -5 1 -10 -4 -10 -6 0 -11 5 -11 10 0 6 2 10 4 10 3 0 8 -4 11
-10z"/>
<path d="M595 1991 c-6 -5 -19 -11 -30 -14 -11 -3 -5 -5 13 -4 19 1 32 7 32
14 0 15 -3 16 -15 4z"/>
<path d="M438 1903 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"/>
<path d="M297 632 c-10 -10 -17 -25 -17 -32 0 -7 7 -22 17 -32 15 -17 15 -18
-13 -18 -46 0 -54 -15 -54 -107 0 -72 3 -84 20 -93 17 -9 20 -23 22 -113 l3
-102 55 0 55 0 3 106 c2 97 5 107 22 112 18 5 20 14 20 85 0 91 -12 112 -61
112 -28 0 -29 1 -15 16 22 21 20 61 -3 74 -27 14 -35 13 -54 -8z m47 2 c22 -8
20 -51 -2 -63 -37 -20 -70 27 -40 57 14 14 20 14 42 6z m64 -106 c15 -15 16
-154 2 -163 -6 -4 -10 20 -10 64 0 40 -4 71 -10 71 -6 0 -11 -70 -12 -177 -3
-170 -4 -178 -23 -178 -18 0 -20 9 -26 105 l-5 105 -2 -107 c-2 -100 -3 -108
-22 -108 -19 0 -20 8 -22 175 -2 108 -7 175 -13 175 -5 0 -13 -30 -16 -67 l-5
-68 -2 86 c-1 47 1 89 5 92 12 12 148 8 161 -5z"/>
<path d="M828 1833 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>
<path d="M788 1818 c-50 -41 -61 -102 -28 -156 20 -33 73 -63 107 -61 10 0 3
5 -16 11 -49 14 -77 35 -91 69 -17 39 -6 87 27 121 28 29 28 37 1 16z"/>
</g>
</svg>
                                    <!-- Checkbox below -->
                                    <div style="margin-top: 15px; display: flex; justify-content: center; align-items: center;">
                                        <label style="display: flex; align-items: center; cursor: pointer;">
                                            <input type="checkbox" name="aski_type" value="2:1" style="width: 20px; height: 20px; cursor: pointer;">
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="aski_tipi">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="halat_adet">Halat Adedi x √áapƒ±</label>
                            <select id="halat_adet">
                                <option value="">Se√ßiniz...</option>
                                <option value="5x√ò10">5x √ò10</option>
                                <option value="7x√ò6.5">7x √ò6.5</option>
                                <option value="diger">Diƒüer</option>
                            </select>
                        </div>
                        <div class="form-group" id="halat_diger_group" style="display: none;">
                            <label for="halat_diger">Halat - Diƒüer</label>
                            <input type="text" id="halat_diger" placeholder="√ñrn: 8x√ò8">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="motor_guc">Motor G√ºc√º (kW)</label>
                        <input type="text" id="motor_guc" placeholder="√ñrn: 5.5">
                    </div>
                </div>

                <!-- B√∂l√ºm 9: Makine Dairesi -->
                <div class="section" data-section="9">
                    <div class="section-title">
                        <span class="section-icon">üìè</span>
                        <span>Makine Dairesi √ñl√ß√ºleri ve Tasarƒ±m</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kumbet_ust_genislik">K√ºmbet √úst√º Geni≈ülik (cm)</label>
                            <input type="text" id="kumbet_ust_genislik" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="kumbet_ust_derinlik">K√ºmbet √úst√º Derinlik (cm)</label>
                            <input type="text" id="kumbet_ust_derinlik" placeholder="cm">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="kumbet_alt_genislik">K√ºmbet Altƒ± Geni≈ülik (cm)</label>
                            <input type="text" id="kumbet_alt_genislik" placeholder="cm">
                        </div>
                        <div class="form-group">
                            <label for="kumbet_alt_derinlik">K√ºmbet Altƒ± Derinlik (cm)</label>
                            <input type="text" id="kumbet_alt_derinlik" placeholder="cm">
                        </div>
                    </div>

                    <!-- FABRIC.JS DRAWING AREA -->
                    <div style="margin-top: 30px;">
                        <h3 style="margin-bottom: 15px; color: var(--primary); font-size: 20px;">üé® Makine Dairesi Tasarƒ±m Alanƒ±</h3>
                        
                        <!-- Instructions -->
                        <div style="background: #e8f4f8; border-left: 4px solid #3498db; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                            <p style="margin: 0 0 10px 0; font-size: 14px; line-height: 1.6; color: #2c3e50;">
                                <strong>üìå Nasƒ±l Kullanƒ±lƒ±r:</strong>
                            </p>
                            <ol style="margin: 0; padding-left: 20px; font-size: 13px; line-height: 1.8; color: #34495e;">
                                <li>√ñnce <strong>ekipmanlara tƒ±klayarak</strong> makine dairenize g√∂re yerle≈ütirin.</li>
                                <li>Sonra <strong>"√áizim Ara√ßlarƒ±nƒ± A√ß"</strong> butonuna basƒ±n.</li>
                                <li><strong>Dikd√∂rtgen ve √áizgi</strong> ile makine dairesi sƒ±nƒ±rlarƒ±nƒ± √ßizin.</li>
                                <li><strong>Metin</strong> aracƒ± ile dilediƒüiniz yere yazƒ± veya √∂l√ß√º ekleyin.</li>
                            </ol>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 200px 1fr; gap: 20px;">
                            
                            <!-- LEFT SIDEBAR -->
                            <div style="display: flex; flex-direction: column; gap: 15px;">
                                
                                <!-- Equipment Icons - NOW FIRST -->
                                <div style="background: white; padding: 15px; border-radius: 10px; border: 2px solid #e0e0e0; max-height: 400px; overflow-y: auto;">
                                    <h4 style="margin: 0 0 12px 0; font-size: 14px; font-weight: bold;">Ekipmanlar</h4>
                                    <div style="display: flex; flex-direction: column; gap: 6px;">
                                        <button type="button" onclick="addIcon('motor-sol')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Motor-Kasnak Solda
                                        </button>
                                        <button type="button" onclick="addIcon('motor-sag')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Motor-Kasnak Saƒüda
                                        </button>
                                        <button type="button" onclick="addIcon('regulator')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Reg√ºlat√∂r
                                        </button>
                                        <button type="button" onclick="addIcon('kumanda')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Kumanda Panosu
                                        </button>
                                        <button type="button" onclick="addIcon('elektrik')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Elektrik Panosu
                                        </button>
                                        <button type="button" onclick="addIcon('baca')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Baca
                                        </button>
                                        <button type="button" onclick="addIcon('menfez')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Menfez
                                        </button>
                                        <button type="button" onclick="addIcon('merdiven')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Merdiven
                                        </button>
                                        <button type="button" onclick="addIcon('kapi')" style="padding: 8px; border: 2px solid #e0e0e0; border-radius: 6px; cursor: pointer; background: white; font-size: 12px; font-weight: 600; text-align: left;">
                                            Kapƒ±
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Actions -->
                                <div style="background: white; padding: 15px; border-radius: 10px; border: 2px solid #e0e0e0;">
                                    <h4 style="margin: 0 0 12px 0; font-size: 14px; font-weight: bold;">ƒ∞≈ülemler</h4>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <button type="button" id="enableDrawingBtn" onclick="enableDrawingTools()" style="display: none; padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #27ae60; color: white; font-weight: 600; font-size: 13px;">
                                            üé® √áizim Ara√ßlarƒ±nƒ± A√ß
                                        </button>
                                        <button type="button" onclick="undoLast()" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #f39c12; color: white; font-weight: 600; font-size: 13px;">
                                            ‚Ü©Ô∏è Geri Al
                                        </button>
                                        <button type="button" onclick="deleteSelected()" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #e74c3c; color: white; font-weight: 600; font-size: 13px;">
                                            üóëÔ∏è Sil
                                        </button>
                                        <button type="button" onclick="clearCanvas()" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #e67e22; color: white; font-weight: 600; font-size: 13px;">
                                            ‚≠ï Temizle
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Drawing Tools - NOW LAST -->
                                <div id="drawingToolsPanel" style="background: white; padding: 15px; border-radius: 10px; border: 2px solid #e0e0e0;">
                                    <h4 style="margin: 0 0 12px 0; font-size: 14px; font-weight: bold;">√áizim Ara√ßlarƒ±</h4>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <button type="button" id="selectModeBtn" onclick="setDrawingMode('select')" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: var(--highlight); color: white; font-weight: 600; font-size: 13px;">
                                            üëÜ Se√ß
                                        </button>
                                        <button type="button" id="penModeBtn" onclick="setDrawingMode('pen')" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #95a5a6; color: white; font-weight: 600; font-size: 13px;">
                                            ‚úèÔ∏è Kalem
                                        </button>
                                        <button type="button" id="lineModeBtn" onclick="setDrawingMode('line')" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #95a5a6; color: white; font-weight: 600; font-size: 13px;">
                                            üìè √áizgi
                                        </button>
                                        <button type="button" id="rectModeBtn" onclick="setDrawingMode('rect')" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #95a5a6; color: white; font-weight: 600; font-size: 13px;">
                                            ‚¨ú Dikd√∂rtgen
                                        </button>
                                        <button type="button" id="textModeBtn" onclick="setDrawingMode('text')" style="padding: 10px; border: none; border-radius: 6px; cursor: pointer; background: #95a5a6; color: white; font-weight: 600; font-size: 13px;">
                                            üî§ Metin
                                        </button>
                                    </div>
                                    
                                    <div style="margin-top: 12px; display: flex; gap: 8px;">
                                        <input type="color" id="fabricColor" value="#000000" onchange="updateBrushColor()" style="width: 50%; height: 35px; border: none; border-radius: 6px; cursor: pointer;">
                                        <select id="fabricWidth" onchange="updateBrushWidth()" style="width: 50%; padding: 6px; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 12px;">
                                            <option value="2">ƒ∞nce</option>
                                            <option value="5" selected>Normal</option>
                                            <option value="10">Kalƒ±n</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- RIGHT: LARGE CANVAS -->
                            <div style="background: white; border-radius: 10px; padding: 15px; border: 2px solid #e0e0e0; overflow: hidden;">
                                <canvas id="fabricCanvas" width="900" height="600" style="border: 2px solid #ddd; border-radius: 8px; width: 100%; height: auto; display: block;"></canvas>
                            </div>
                            
                        </div>
                    </div>

                    <div class="photo-section" style="margin-top: 30px;">
                    <div class="photo-section" style="margin-top: 30px;">
                        <h3>üì∏ Makine Dairesi Fotoƒüraflarƒ±</h3>
                        <div class="photo-grid">
                            <div class="photo-placeholder">
                                <span>üì∑</span>
                            </div>
                            <div class="photo-placeholder">
                                <span>üì∑</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ek Notlar Alanƒ± -->
                    <div class="photo-section" style="margin-top: 30px; background: #fff8e1;">
                        <h3>üìù Ek Notlar</h3>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">Eklemek istediƒüiniz notlarƒ±nƒ±z var ise buraya yazƒ±nƒ±z.</p>
                        <textarea id="ek_notlar" rows="5" style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 15px; font-family: inherit; resize: vertical; background: white;" placeholder="√ñzel durumlar, dikkat edilmesi gereken noktalar, ek bilgiler..."></textarea>
                    </div>
                </div>
            </div>

            <div class="buttons">
                <button type="button" class="btn btn-prev" id="prevBtn" style="display: none;">
                    <span>‚Üê</span>
                    <span>√ñnceki</span>
                </button>
                <button type="button" class="btn btn-next" id="nextBtn">
                    <span>Sonraki</span>
                    <span>‚Üí</span>
                </button>
                <button type="submit" class="btn btn-submit" id="submitBtn" style="display: none;">
                    <span>‚úì</span>
                    <span>Formu Tamamla ve G√∂nder</span>
                </button>
            </div>
        </form>
        
        <!-- Share Options (Hidden initially) -->
        <div id="shareOptions" style="display: none; max-width: 600px; margin: 40px auto; padding: 40px; background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1);">
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="font-size: 64px; margin-bottom: 20px;">‚úÖ</div>
                <h2 style="color: var(--primary); margin-bottom: 10px;">Form Tamamlandƒ±!</h2>
                <p style="color: #666; font-size: 16px;">PDF ba≈üarƒ±yla olu≈üturuldu. ≈ûimdi payla≈üabilir veya indirebilirsiniz.</p>
            </div>
            
            <div style="display: grid; gap: 15px; margin-bottom: 30px;">
                <!-- WhatsApp Share Button -->
                <button onclick="shareWhatsApp()" style="display: flex; align-items: center; justify-content: center; gap: 12px; padding: 18px 24px; background: #25D366; color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                    </svg>
                    <span>WhatsApp ile Payla≈ü</span>
                </button>
                
                <!-- Download PDF Button -->
                <button onclick="downloadPDF()" style="display: flex; align-items: center; justify-content: center; gap: 12px; padding: 18px 24px; background: var(--primary); color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span>PDF ƒ∞ndir</span>
                </button>
                
                <!-- New Form Button -->
                <button onclick="resetForm()" style="display: flex; align-items: center; justify-content: center; gap: 12px; padding: 14px 20px; background: white; color: #666; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="1 4 1 10 7 10"></polyline>
                        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                    </svg>
                    <span>Yeni Form Doldur</span>
                </button>
            </div>
            
            <div style="background: #fff3cd; padding: 15px; border-radius: 10px; border-left: 4px solid #ffc107; margin-top: 20px;">
                <p style="margin: 0; font-size: 14px; color: #856404; line-height: 1.6;">
                    <strong>üí° Not:</strong> WhatsApp ile payla≈üƒ±rken, PDF dosyasƒ±nƒ± manuel olarak eklemeniz gerekecektir. √ñnce "PDF ƒ∞ndir" butonuna basƒ±n, sonra WhatsApp'ta PDF'i ekleyin.
                </p>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 9;
        let placedComponents = [];
        let draggedElement = null;
        let selectedComponent = null;

        // Disable drawing tools (except Select)
        function disableDrawingTools() {
            const drawingTools = ['penModeBtn', 'lineModeBtn', 'rectModeBtn', 'textModeBtn'];
            drawingTools.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.disabled = true;
                    btn.style.opacity = '0.5';
                    btn.style.cursor = 'not-allowed';
                }
            });
            
            // Disable color and width selectors
            document.getElementById('fabricColor').disabled = true;
            document.getElementById('fabricWidth').disabled = true;
            
            // Show enable button
            const enableBtn = document.getElementById('enableDrawingBtn');
            if (enableBtn) enableBtn.style.display = 'block';
        }
        
        // Enable drawing tools
        function enableDrawingTools() {
            const drawingTools = ['penModeBtn', 'lineModeBtn', 'rectModeBtn', 'textModeBtn'];
            drawingTools.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.disabled = false;
                    btn.style.opacity = '1';
                    btn.style.cursor = 'pointer';
                }
            });
            
            document.getElementById('fabricColor').disabled = false;
            document.getElementById('fabricWidth').disabled = false;
            
            // Hide enable button
            const enableBtn = document.getElementById('enableDrawingBtn');
            if (enableBtn) enableBtn.style.display = 'none';
        }
        
        // Toggle kasnak ray position visibility
        function toggleKasnakRayPosition() {
            const kasnakKonum = document.getElementById('kasnak_konum').value;
            const rayPositionGroup = document.getElementById('kasnak_ray_position_group');
            
            if (kasnakKonum === 'altta') {
                rayPositionGroup.style.display = 'block';
            } else {
                rayPositionGroup.style.display = 'none';
                document.getElementById('kasnak_ray_position').value = '';
            }
        }
        
        // Scale down di≈ülili askƒ± SVGs to 0.7
        // ==========================================
        // INITIALIZATION - Safari Compatible
        // ==========================================
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Initializing BNM Form...');
            
            // Scale down askƒ± SVGs
            const askiOptions = document.querySelectorAll('.aski-option svg');
            askiOptions.forEach(svg => {
                svg.style.transform = 'scale(0.7)';
                svg.style.transformOrigin = 'center';
            });
            
            // Initialize first section
            showSection(1);
            
            // Navigation buttons
            const nextBtn = document.getElementById('nextBtn');
            const prevBtn = document.getElementById('prevBtn');
            
            if (nextBtn) {
                nextBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Next clicked, current:', currentSection);
                    if (currentSection < totalSections) {
                        currentSection++;
                        showSection(currentSection);
                    }
                });
            }
            
            if (prevBtn) {
                prevBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Prev clicked, current:', currentSection);
                    if (currentSection > 1) {
                        currentSection--;
                        showSection(currentSection);
                    }
                });
            }
            
            // Conditional fields
            setupConditionalFields();
            
            console.log('‚úÖ Form initialized successfully');
        });
        
        // Setup conditional fields
        function setupConditionalFields() {
            // Kapasite diƒüer
            const kapasiteEl = document.getElementById('kapasite');
            if (kapasiteEl) {
                kapasiteEl.addEventListener('change', function() {
                    const digerGroup = document.getElementById('kapasite_diger_group');
                    if (digerGroup) {
                        digerGroup.style.display = this.value === 'diger' ? 'block' : 'none';
                    }
                });
            }

            // Kapƒ± geni≈ülik diƒüer
            const kapiGenislikEl = document.getElementById('kapi_genislik');
            if (kapiGenislikEl) {
                kapiGenislikEl.addEventListener('change', function() {
                    const digerGroup = document.getElementById('kapi_genislik_diger_group');
                    if (digerGroup) {
                        digerGroup.style.display = this.value === 'diger' ? 'block' : 'none';
                    }
                });
            }

            // Halat diƒüer
            const halatEl = document.getElementById('halat_adet');
            if (halatEl) {
                halatEl.addEventListener('change', function() {
                    const digerGroup = document.getElementById('halat_diger_group');
                    if (digerGroup) {
                        digerGroup.style.display = this.value === 'diger' ? 'block' : 'none';
                    }
                });
            }

            // Makine tipi deƒüi≈üimi
            document.querySelectorAll('input[name="makine_tipi"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const dislisizSection = document.getElementById('dislisiz_section');
                    const disliliSection = document.getElementById('dislili_section');
                    
                    if (this.value === 'dislisiz') {
                        if (dislisizSection) dislisizSection.style.display = 'block';
                        if (disliliSection) disliliSection.style.display = 'none';
                    } else {
                        if (dislisizSection) dislisizSection.style.display = 'none';
                        if (disliliSection) disliliSection.style.display = 'block';
                    }
                });
            });

            // Askƒ± tipi se√ßimi
            document.querySelectorAll('.aski-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.aski-option').forEach(opt => {
                        opt.style.border = '2px solid #e0e0e0';
                        opt.style.background = 'white';
                    });
                    
                    this.style.border = '3px solid var(--highlight)';
                    this.style.background = '#f0f4ff';
                    
                    const askiTipInput = document.getElementById('aski_tip');
                    if (askiTipInput) {
                        askiTipInput.value = this.dataset.value;
                    }
                });
            });
        }
        
        // Update progress
        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            document.querySelectorAll('.progress-step').forEach((step, index) => {
                if (index + 1 <= currentSection) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }

        // Show section
        function showSection(section) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelector(`.section[data-section="${section}"]`).classList.add('active');
            
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.style.display = section > 1 ? 'flex' : 'none';
            nextBtn.style.display = section < totalSections ? 'flex' : 'none';
            submitBtn.style.display = section === totalSections ? 'flex' : 'none';
            
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.remove(), 3000);
        }

        // Durak sayƒ±sƒ±na g√∂re kapƒ± kilidi seri numaralarƒ±
        // Durak sayƒ±sƒ± deƒüi≈üince kapƒ± kilidi seri numaralarƒ±nƒ± g√ºncelle
        function updateDoorLockSerials() {
            const durakSayisi = parseInt(document.getElementById('durak_sayisi').value) || 0;
            const startFloor = parseInt(document.getElementById('start_floor').value) || 0;
            const container = document.getElementById('kapi_kilidi_seriler');
            container.innerHTML = '';
            
            if (durakSayisi > 0) {
                container.classList.add('active');
                
                // Ba≈ülangƒ±√ß katƒ±ndan itibaren durak sayƒ±sƒ± kadar kat olu≈ütur
                for (let i = 0; i < durakSayisi; i++) {
                    const katNo = startFloor + i;
                    const inputGroup = document.createElement('div');
                    inputGroup.className = 'floor-input-group';
                    
                    const label = document.createElement('div');
                    label.className = 'floor-label';
                    
                    if (katNo < 0) {
                        label.textContent = `${katNo}. Kat:`;
                    } else if (katNo === 0) {
                        label.textContent = 'Zemin Kat:';
                    } else {
                        label.textContent = `${katNo}. Kat:`;
                    }
                    
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.placeholder = 'Seri No';
                    input.dataset.kat = katNo;
                    
                    inputGroup.appendChild(label);
                    inputGroup.appendChild(input);
                    container.appendChild(inputGroup);
                }
            } else {
                container.classList.remove('active');
            }
        }
        
        document.getElementById('durak_sayisi').addEventListener('change', updateDoorLockSerials);
        document.getElementById('start_floor').addEventListener('change', updateDoorLockSerials);

        // Radio button styling
        document.querySelectorAll('.radio-item').forEach(item => {
            item.addEventListener('click', function() {
                const radio = this.querySelector('input[type="radio"]');
                radio.checked = true;
                
                this.parentElement.querySelectorAll('.radio-item').forEach(r => {
                    r.classList.remove('selected');
                });
                this.classList.add('selected');
                
                radio.dispatchEvent(new Event('change'));
            });
        });

        // Icon SVGs
        window.iconSVGs = {
            'motor-sol': `<img src="data:image/png;base64,UklGRkoGAABXRUJQVlA4WAoAAAAgAAAAswAAOgEASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZWUDggXAQAALArAJ0BKrQAOwE+USaPRKOiIZfIpAg4BQS0t3KoCJdiN+cb4e/wHbb/m66//T+DNumsgR+U/7nuVeM8/yvHvzEf55/Xfta+NzQS9Gf9z3C/49/UP+h2HfKAKDttdqDRRp3j1ALwYN5N8a2KA3k3rbtlFCw07Np7YW+4gXB3ZVkySkb/cjrvuqRktBS1BO2BT/vkXlRtteNbERqgNgbeHgs5TG0OkvadmXRx/DXXfAG7YX+RQOvUOKIaEIdTBDuMlEZT8sh5voGDuWp/6YVxat9lgf41lKZT0aHbAp/YLaw9Z/t8/liwhO/9fWQ7V71GBZ/YB9M7lun5+13g0J+LfQ8y2KNgr0ItGY86sqcBT/sL2LVPrloJ7450kekzF6st3/JYoHzIQYz6NrOxb+B2kE/IcT+ZKv3sJc7RdJRAT+oL0hlWgYbntezEOwjJUvpw2A8XSy5AHXsNtS/xMWfhDneJCC7l2AAA/v72DCZ/X4hM2sFk2iQ0OIHs+ds3IaMG650NcCpMPxtcRrCT9PvgJcf47MpdkENp9imQxt64bDr1ctPbBwSgJZw62xBJUyC5To0eIz+dPfSUGSbBvcDtHNRCGDOe+jaGqIO7QQy4q71x3Lg7hMHZv9YU4+RzhZnwRRUGu1/OXQw4GXksdwI6rii4NbpY6s6wJ6y9QZ0b2V+nlBM+KG/CRWKGrDU4V+e4yMZY73W75yvTaiWX4Tde2sLf3OVZUoZ5H0OHyi1ELVXYgMUwMlGUIPXYoza+ynSggM7Jo5NvenMF8+a0t3dpNroCIcQ6PkgqCKzqrXesCXqx9lP7AaJyOQSfBqOL5ZhFtXYG99a8VygIZ/83hO2oni7xRD6RWHa4tiUcsDRzqSI4zv21iY40qJNRgRt/f/mA6BP3PZJYKAFz5qiqoRCEJhKyI4sW+NSLa+OSooix7Y+dEZH5gLuN8XMzDE1Ot3Vde6hzQtsni7wb4t1nWmcTXYugwLgORZAhuEQiczP5OE2n+9rNGABZmwPsxH9YDhzG9TR8rsfWweU4wPt6dcKHINpyJsmf9VZqo0Ws/XySyhF375Q6NW3zxa58NLGFK/EBqOZ8fYQ7eGB7nIlLVD2NFHtmfBRkIwdPX0TanOSsbGLiJV2dFfM5d2ILx2hEffAVfHdO30Lp02PRjzxn0FwiVBdIJ7SvMa/jxA1yOBlCtQ19ntyI4LhHwV1OXI2CRug4gkYlGjmUP4yKLJEke1+1grhMmuTLtAZoKF7IecBRHdw7O2/Tpp/feIxZE0lNxAqC6/Z/obFYCEAoR6LocRi/mkIy72q5uP91m3+XV6d/5eHVCJebxHmz0+J0PUS5nWDiiw6OyBmqkgdzoODL1pGzP9gy5n7eP8DDh7cE51pKIO0ovK1tsVHbyn+dDuXTJT5Pn7H/fC6oDD8CVW2p7Ey/9sUYCNXzhE18SyjS5Poja686kww8ltufzWHG8xQ4X+oXYijWHfGXvFR+scAAAA==" style="width:100%;height:100%;" />`,
            'motor-sag': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="190.000000pt" height="329.000000pt" viewBox="0 0 190.000000 329.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,329.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M583 3193 c48 -2 125 -2 170 0 45 1 6 3 -88 3 -93 0 -130 -2 -82 -3z"/>
<path d="M252 2883 c49 -2 127 -2 175 0 49 1 9 3 -87 3 -96 0 -136 -2 -88 -3z"/>
<path d="M827 2883 c-3 -5 71 -7 164 -5 l169 3 -2 -570 c-2 -314 0 -567 5
-562 4 4 6 261 5 572 l-3 564 -167 3 c-91 1 -169 -1 -171 -5z"/>
<path d="M593 2023 c48 -2 125 -2 170 0 45 1 6 3 -88 3 -93 0 -130 -2 -82 -3z"/>
<path d="M1608 1160 l2 -840 -172 -2 -173 -2 169 -3 c93 -2 173 0 178 5 10 10
11 1663 1 1673 -5 5 -7 -370 -5 -831z"/>
<path d="M1120 1155 l0 -615 -457 -3 -458 -2 458 -3 457 -2 0 -140 0 -140
-459 2 c-253 2 -457 0 -454 -4 2 -5 211 -8 464 -8 l459 0 0 765 c0 421 -2 765
-5 765 -3 0 -5 -277 -5 -615z"/>
<path d="M1679 1498 c0 -112 0 -266 0 -343 0 -77 1 -229 1 -337 l0 -198 88 2
87 2 -82 3 -83 4 0 529 0 529 83 4 82 3 -87 2 -88 2 -1 -202z"/>
<path d="M1854 1155 c0 -126 2 -177 3 -112 2 65 2 168 0 230 -1 62 -3 9 -3
-118z"/>
<path d="M108 194 c-1 -36 -1 -68 1 -70 8 -7 1110 -4 1114 4 3 4 -245 6 -550
4 l-555 -2 4 65 c1 36 0 65 -4 65 -3 0 -8 -30 -10 -66z"/>
<path d="M53 95 c0 -27 2 -38 4 -22 2 15 2 37 0 50 -2 12 -4 0 -4 -28z"/>
</g>
</svg>
`,
            'regulator': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="108.000000pt" height="290.000000pt" viewBox="0 0 108.000000 290.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,290.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M535 2790 l300 -5 5 -1365 c3 -751 6 -1265 8 -1143 l2 222 93 3 92 3
3 914 c2 725 0 916 -10 923 -7 4 -50 8 -95 8 l-83 0 -2 223 -3 222 -305 0
-305 1 300 -6z m495 -1370 l0 -910 -90 0 -90 0 0 910 0 910 90 0 90 0 0 -910z"/>
<path d="M212 2573 l-2 -223 -74 0 c-41 0 -81 -3 -90 -6 -14 -6 -16 -96 -16
-925 l0 -919 90 0 90 0 0 -225 0 -225 313 2 312 3 -307 2 -308 3 -3 1368 c-1
752 -3 1267 -5 1145z m-2 -1153 l0 -910 -85 0 -85 0 0 910 0 910 85 0 85 0 0
-910z"/>
<path d="M407 2563 c-9 -8 -9 -2255 -1 -2277 4 -11 19 -16 45 -16 33 0 41 5
54 30 20 38 40 38 54 0 9 -27 14 -30 54 -30 32 0 47 5 51 16 8 20 8 2248 0
2268 -4 11 -19 16 -50 16 -38 0 -46 -4 -56 -25 -6 -14 -17 -25 -23 -25 -7 0
-20 11 -29 25 -13 19 -25 25 -55 25 -21 0 -41 -3 -44 -7z m91 -28 c7 -15 20
-25 32 -25 12 0 25 10 32 25 9 20 18 25 50 25 l38 0 0 -1140 0 -1140 -36 0
c-31 0 -37 4 -47 30 -16 41 -51 41 -72 -1 -13 -25 -21 -30 -46 -27 l-30 3 -2
1137 -2 1138 36 0 c28 0 38 -5 47 -25z"/>
</g>
</svg>
`,
            'kumanda': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="299.000000pt" height="87.000000pt" viewBox="0 0 299.000000 87.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,87.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M10 430 l0 -420 1485 0 1485 0 0 420 0 420 -1485 0 -1485 0 0 -420z
m2960 0 l0 -410 -1475 0 -1475 0 0 410 0 410 1475 0 1475 0 0 -410z"/>
<path d="M1420 505 c0 -33 -2 -35 -25 -29 -56 14 -97 -22 -86 -76 8 -43 71
-66 99 -38 9 9 12 9 12 0 0 -7 5 -12 10 -12 6 0 10 38 10 95 0 57 -4 95 -10
95 -5 0 -10 -16 -10 -35z m-16 -51 c19 -18 21 -55 4 -72 -22 -22 -67 -14 -80
13 -22 50 38 97 76 59z"/>
<path d="M390 441 c0 -54 4 -91 10 -91 6 0 10 13 10 29 0 16 7 34 16 42 13 11
21 6 54 -32 21 -24 41 -41 44 -38 3 3 -10 24 -29 46 -19 23 -35 45 -35 50 0 5
16 24 35 43 19 18 32 36 30 39 -3 3 -30 -20 -60 -49 l-55 -54 0 46 c0 26 -4
50 -10 53 -6 4 -10 -27 -10 -84z"/>
<path d="M1710 440 c0 -53 4 -90 10 -90 6 0 10 14 10 30 0 29 2 30 44 30 35 0
48 5 60 22 22 31 20 45 -9 73 -18 19 -35 25 -70 25 l-45 0 0 -90z m108 58 c32
-32 0 -78 -54 -78 -34 0 -34 0 -34 45 l0 45 38 0 c21 0 43 -5 50 -12z"/>
<path d="M561 429 c0 -31 4 -60 11 -67 15 -15 61 -15 76 0 9 9 12 9 12 0 0 -7
5 -12 10 -12 6 0 10 28 10 65 0 37 -4 65 -10 65 -5 0 -10 -19 -10 -43 0 -48
-13 -67 -46 -67 -28 0 -37 13 -45 70 l-6 45 -2 -56z"/>
<path d="M730 413 c0 -76 18 -84 22 -12 3 59 25 82 56 63 12 -8 18 -27 20 -63
4 -66 20 -66 24 0 2 36 8 55 21 63 30 19 52 -4 55 -63 4 -63 22 -68 22 -5 0
64 -13 84 -55 84 -18 0 -37 -5 -40 -10 -4 -7 -13 -7 -25 0 -11 6 -38 9 -60 8
l-40 -3 0 -62z"/>
<path d="M994 469 c-4 -8 3 -9 25 -4 20 4 37 2 46 -5 23 -19 18 -27 -24 -34
-49 -7 -67 -27 -51 -55 9 -17 19 -21 60 -19 l50 2 0 38 c0 20 -4 48 -10 62 -8
22 -16 26 -49 26 -22 0 -43 -5 -47 -11z m86 -68 c0 -14 -29 -41 -44 -41 -18 0
-39 27 -31 40 8 12 75 14 75 1z"/>
<path d="M1140 415 c0 -37 4 -65 10 -65 6 0 10 20 10 43 0 30 6 49 18 60 41
37 72 13 72 -55 0 -26 5 -48 10 -48 13 0 13 86 0 111 -12 22 -68 27 -88 7 -9
-9 -12 -9 -12 0 0 7 -4 12 -10 12 -6 0 -10 -28 -10 -65z"/>
<path d="M1490 469 c-11 -8 -8 -9 13 -4 35 7 67 -2 67 -20 0 -8 -17 -16 -41
-20 -75 -13 -64 -69 15 -71 l46 -2 0 52 c0 29 -5 57 -12 64 -15 15 -68 15 -88
1z m80 -74 c0 -18 -34 -37 -54 -29 -16 6 -21 26 -9 37 13 14 63 7 63 -8z"/>
<path d="M1885 470 c-3 -6 9 -9 32 -7 28 1 38 -2 41 -15 2 -12 -7 -18 -37 -23
-27 -4 -42 -13 -46 -26 -11 -32 13 -50 61 -47 l44 3 0 51 c0 27 -5 55 -12 62
-14 14 -74 16 -83 2z m85 -68 c0 -19 -39 -44 -59 -37 -21 6 -28 25 -14 38 9
10 73 9 73 -1z"/>
<path d="M2030 415 c0 -78 16 -87 22 -12 5 56 1 77 -13 77 -5 0 -9 -29 -9 -65z"/>
<path d="M2065 470 c-4 -7 2 -9 18 -5 36 9 57 -17 57 -71 0 -26 5 -44 11 -44
15 0 6 94 -11 115 -14 17 -65 20 -75 5z"/>
<path d="M2204 455 c-47 -72 53 -145 106 -78 38 48 8 103 -57 103 -24 0 -37
-7 -49 -25z m91 -5 c27 -29 10 -74 -28 -78 -52 -6 -76 41 -40 80 21 24 45 23
68 -2z"/>
<path d="M2363 473 c-7 -2 -13 -13 -13 -23 0 -22 16 -35 53 -44 29 -7 36 -30
12 -40 -8 -3 -27 -1 -41 4 -20 8 -25 7 -22 -2 6 -17 66 -22 84 -7 27 22 16 47
-26 60 -51 15 -52 45 -2 43 18 -1 32 2 32 7 0 9 -56 11 -77 2z"/>
<path d="M2491 429 c0 -31 4 -60 11 -67 15 -15 61 -15 76 0 9 9 12 9 12 0 0
-7 5 -12 10 -12 6 0 10 28 10 65 0 37 -4 65 -10 65 -5 0 -10 -19 -10 -43 0
-48 -13 -67 -46 -67 -28 0 -37 13 -45 70 l-6 45 -2 -56z"/>
</g>
</svg>
`,
            'elektrik': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="212.000000pt" height="168.000000pt" viewBox="0 0 212.000000 168.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,168.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M0 835 l0 -825 1055 0 1055 0 -2 823 -3 822 -1052 3 -1053 2 0 -825z
m2100 0 l0 -815 -1045 0 -1045 0 0 815 0 815 1045 0 1045 0 0 -815z"/>
<path d="M690 1170 c0 -73 4 -120 10 -120 6 0 10 47 10 120 0 73 -4 120 -10
120 -6 0 -10 -47 -10 -120z"/>
<path d="M970 1170 c0 -73 4 -120 10 -120 6 0 10 11 10 23 0 13 9 32 21 42 20
19 21 18 58 -25 51 -59 65 -45 16 15 l-38 45 39 35 c21 19 33 34 26 35 -8 0
-38 -21 -68 -46 l-54 -46 0 81 c0 47 -4 81 -10 81 -6 0 -10 -47 -10 -120z"/>
<path d="M1507 1283 c-4 -3 -7 -57 -7 -120 0 -94 3 -113 15 -113 10 0 15 10
15 28 0 16 8 32 20 39 17 11 23 8 51 -27 18 -22 39 -40 47 -40 9 0 2 15 -22
44 -20 24 -36 48 -36 52 0 5 14 23 32 41 51 52 10 39 -44 -14 l-48 -47 0 82
c0 75 -6 93 -23 75z"/>
<path d="M1417 1274 c-8 -8 1 -24 14 -24 5 0 9 7 9 15 0 15 -12 20 -23 9z"/>
<path d="M480 1160 l0 -110 80 0 c47 0 80 4 80 10 0 6 -28 10 -65 10 l-65 0 0
40 0 40 55 0 c30 0 55 5 55 10 0 6 -25 10 -55 10 l-55 0 0 40 0 40 59 0 c33 0
63 5 66 10 4 6 -23 10 -74 10 l-81 0 0 -110z"/>
<path d="M1170 1241 c0 -12 -7 -21 -15 -21 -8 0 -15 -4 -15 -9 0 -5 7 -11 15
-15 11 -4 15 -21 15 -64 0 -62 11 -82 46 -82 34 0 39 18 7 22 -27 3 -28 6 -31
66 -3 61 -2 62 23 62 14 0 25 5 25 10 0 6 -11 10 -25 10 -15 0 -25 6 -25 14 0
8 -4 18 -10 21 -5 3 -10 -3 -10 -14z"/>
<path d="M786 1194 c-54 -54 -18 -144 57 -144 35 0 77 23 64 36 -4 4 -13 2
-19 -4 -19 -19 -66 -14 -88 8 -30 30 -17 40 56 40 58 0 64 2 64 20 0 12 -11
32 -25 45 -32 33 -75 33 -109 -1z m96 -11 c33 -30 23 -43 -36 -43 -63 0 -75
11 -46 40 24 24 57 26 82 3z"/>
<path d="M1290 1135 c0 -50 4 -85 10 -85 6 0 10 20 10 44 0 61 14 94 45 102
14 3 25 10 25 15 0 14 -23 11 -48 -7 -20 -14 -22 -14 -22 0 0 9 -4 16 -10 16
-6 0 -10 -35 -10 -85z"/>
<path d="M1420 1135 c0 -50 4 -85 10 -85 6 0 10 35 10 85 0 50 -4 85 -10 85
-6 0 -10 -35 -10 -85z"/>
<path d="M490 530 c0 -67 4 -110 10 -110 6 0 10 16 10 35 l0 35 49 0 c64 0
101 28 101 76 0 55 -28 74 -105 74 l-65 0 0 -110z m134 74 c23 -22 20 -60 -6
-78 -12 -9 -42 -16 -65 -16 l-43 0 0 55 0 55 49 0 c32 0 55 -6 65 -16z"/>
<path d="M722 579 c-35 -14 -17 -29 18 -16 22 8 35 9 48 1 24 -16 28 -44 5
-44 -10 0 -35 -5 -55 -11 -32 -8 -38 -14 -38 -37 0 -16 5 -33 12 -40 16 -16
70 -16 86 0 9 9 12 9 12 0 0 -7 7 -12 15 -12 12 0 15 13 15 56 0 54 -12 92
-34 106 -15 10 -56 9 -84 -3z m88 -98 c0 -26 -24 -43 -57 -39 -18 2 -29 10
-31 22 -5 24 14 36 56 36 25 0 32 -4 32 -19z"/>
<path d="M900 505 c0 -50 4 -85 10 -85 6 0 10 25 10 55 0 60 22 95 59 95 36 0
51 -27 51 -91 0 -33 4 -59 10 -59 6 0 10 30 10 69 0 61 -3 72 -22 85 -12 9
-32 16 -43 16 -11 0 -31 -7 -43 -16 -20 -14 -22 -14 -22 0 0 9 -4 16 -10 16
-6 0 -10 -35 -10 -85z"/>
<path d="M1145 578 c-31 -18 -44 -40 -45 -76 0 -73 93 -110 145 -57 68 67 -17
181 -100 133z m78 -20 c28 -22 32 -73 8 -97 -53 -53 -134 6 -100 72 21 39 59
49 92 25z"/>
<path d="M1317 572 c-34 -38 -20 -61 51 -81 32 -9 42 -17 40 -29 -3 -14 -14
-17 -56 -16 -29 1 -52 -2 -52 -6 0 -22 86 -27 114 -7 11 8 17 23 14 38 -2 19
-13 27 -50 39 -58 19 -64 25 -47 46 9 12 24 15 51 11 38 -5 52 6 22 17 -30 12
-71 6 -87 -12z"/>
<path d="M1470 525 c0 -52 4 -69 20 -85 22 -22 60 -26 91 -10 13 7 19 7 19 0
0 -5 5 -10 10 -10 6 0 10 35 10 85 0 50 -4 85 -10 85 -6 0 -10 -26 -10 -58 0
-64 -18 -92 -58 -92 -37 0 -52 26 -52 91 0 33 -4 59 -10 59 -6 0 -10 -28 -10
-65z"/>
</g>
</svg>
`,
            'baca': `<img src="data:image/png;base64,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" style="width:100%;height:100%;" />`,
            'menfez': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="281.000000pt" height="99.000000pt" viewBox="0 0 281.000000 99.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,99.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M1398 953 l1382 -3 0 -455 0 -455 -1382 -3 -1383 -2 1388 -3 1387 -2
0 465 0 465 -1387 -2 -1388 -3 1383 -2z"/>
<path d="M850 496 c0 -109 18 -132 22 -28 l3 67 33 -57 c19 -32 35 -58 37 -58
2 0 20 28 39 63 l36 62 0 -72 c0 -42 4 -73 10 -73 6 0 10 39 10 98 -1 109 0
109 -64 4 l-32 -52 -38 65 c-21 36 -42 68 -47 71 -5 3 -9 -36 -9 -90z"/>
<path d="M1107 583 c-4 -3 -7 -46 -7 -95 l0 -88 65 0 c37 0 65 4 65 10 0 6
-25 10 -56 10 l-55 0 3 33 c3 30 5 32 53 38 l50 6 -52 1 -53 2 0 35 0 35 55 0
c30 0 55 5 55 10 0 11 -113 14 -123 3z"/>
<path d="M1280 495 c0 -57 4 -95 10 -95 6 0 10 32 10 76 l0 75 60 -75 c33 -42
65 -76 70 -76 13 0 13 177 0 185 -5 3 -10 -25 -12 -71 l-3 -77 -60 76 c-33 43
-63 77 -67 77 -5 0 -8 -43 -8 -95z"/>
<path d="M1500 495 c0 -57 4 -95 10 -95 6 0 10 18 10 40 l0 40 45 0 c25 0 45
5 45 10 0 6 -20 10 -45 10 -45 0 -45 0 -45 35 l0 35 56 0 c34 0 53 4 49 10 -3
6 -33 10 -66 10 l-59 0 0 -95z"/>
<path d="M1670 495 l0 -95 65 0 c37 0 65 4 65 10 0 6 -25 10 -55 10 l-55 0 0
34 c0 34 1 35 48 39 l47 3 -47 2 c-48 2 -48 2 -48 37 l0 35 50 0 c28 0 50 5
50 10 0 6 -27 10 -60 10 l-60 0 0 -95z"/>
<path d="M1830 580 c0 -5 27 -10 59 -12 l59 -3 -59 -74 c-32 -40 -59 -77 -59
-82 0 -5 34 -9 75 -9 89 0 101 18 15 22 l-59 3 58 75 c33 41 57 78 54 83 -6
11 -143 9 -143 -3z"/>
</g>
</svg>
`,
            'merdiven': `<img src="data:image/png;base64,UklGRpIDAABXRUJQVlA4WAoAAAAgAAAAiwAA2AAASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZWUDggpAEAAJATAJ0BKowA2QA+USCNRCOiIRgEADgFBLS3cLlIeJYS/0CVAI4AtznmVaBYtZuTMhBfEH54qxx3XlaUqUl37kmlvBC/onBxDCZxGo3nrSIx2yada7ehrNC/cE/iZP/GVazZ1Hhxkm3xyRsh5uTQaujw5Ue8dtKZo4KvTEVIBWs2dCUB8Whi/Y+pIADD0EkR/7FBfESOTjy/ckwgw2rMt+5JpGjcIAD5+P/SapT4a3WzdwKeyMb3f22+m5S1cdMTBZ/vtopIZhhTxAd1LrsviBEL5s3i4MVH/WuNaMZqis0UTEayWZ+2LnVIhyzL/5z/9xK9jI/FKlfuVgj8eqhuEnAouEi9QiNWftgLEGqFO1PMCEAnIVaoyk+FlWKHscbgTxZ8u4ztvtm4qKi09ZyE+1wDW3JyQxZwABoHrybH1hOEU+ay2QmJGRRU1yvYzkqzjjuH4laSQITS9QUYMKb3ORkvDo64wlDbtH39AnlssxQXCh3GR98DyiipvtXTH8NWWR4gokrVcZwd/v//BI+/fALk27AJPJBLrZRgWl3o0QK0OsAAAA==" style="width:100%;height:100%;" />`,
            'kapi': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="241.000000pt" height="232.000000pt" viewBox="0 0 241.000000 232.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,232.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M2105 2235 c-417 -73 -719 -180 -1015 -360 -187 -114 -390 -291 -527
-460 -260 -322 -439 -746 -523 -1238 -17 -97 -18 -120 -8 -131 11 -11 216 -11
1149 -2 1028 10 1137 13 1152 27 15 15 17 120 27 1088 10 949 10 1073 -4 1086
-20 21 -93 18 -251 -10z m131 -527 c-3 -282 -9 -755 -12 -1051 l-6 -537 -1074
0 c-591 0 -1074 1 -1074 3 0 15 35 186 55 272 69 291 193 592 331 806 344 532
890 864 1639 994 72 13 134 23 139 24 4 1 5 -228 2 -511z m90 0 c-3 -282 -9
-755 -12 -1050 l-6 -538 -25 0 -25 0 6 493 c3 270 9 743 12 1050 l6 557 25 0
25 0 -6 -512z m-2213 -1635 c-7 -2 -21 -2 -30 0 -10 3 -4 5 12 5 17 0 24 -2
18 -5z"/>
</g>
</svg>
`,
        };


        // Icon SVGs - High Quality
        window.iconSVGs = {
            'motor-sol': `<img src="data:image/png;base64,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" />`,
            'motor-sag': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="190.000000pt" height="329.000000pt" viewBox="0 0 190.000000 329.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,329.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M583 3193 c48 -2 125 -2 170 0 45 1 6 3 -88 3 -93 0 -130 -2 -82 -3z"/>
<path d="M252 2883 c49 -2 127 -2 175 0 49 1 9 3 -87 3 -96 0 -136 -2 -88 -3z"/>
<path d="M827 2883 c-3 -5 71 -7 164 -5 l169 3 -2 -570 c-2 -314 0 -567 5
-562 4 4 6 261 5 572 l-3 564 -167 3 c-91 1 -169 -1 -171 -5z"/>
<path d="M593 2023 c48 -2 125 -2 170 0 45 1 6 3 -88 3 -93 0 -130 -2 -82 -3z"/>
<path d="M1608 1160 l2 -840 -172 -2 -173 -2 169 -3 c93 -2 173 0 178 5 10 10
11 1663 1 1673 -5 5 -7 -370 -5 -831z"/>
<path d="M1120 1155 l0 -615 -457 -3 -458 -2 458 -3 457 -2 0 -140 0 -140
-459 2 c-253 2 -457 0 -454 -4 2 -5 211 -8 464 -8 l459 0 0 765 c0 421 -2 765
-5 765 -3 0 -5 -277 -5 -615z"/>
<path d="M1679 1498 c0 -112 0 -266 0 -343 0 -77 1 -229 1 -337 l0 -198 88 2
87 2 -82 3 -83 4 0 529 0 529 83 4 82 3 -87 2 -88 2 -1 -202z"/>
<path d="M1854 1155 c0 -126 2 -177 3 -112 2 65 2 168 0 230 -1 62 -3 9 -3
-118z"/>
<path d="M108 194 c-1 -36 -1 -68 1 -70 8 -7 1110 -4 1114 4 3 4 -245 6 -550
4 l-555 -2 4 65 c1 36 0 65 -4 65 -3 0 -8 -30 -10 -66z"/>
<path d="M53 95 c0 -27 2 -38 4 -22 2 15 2 37 0 50 -2 12 -4 0 -4 -28z"/>
</g>
</svg>`,
            'regulator': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="108.000000pt" height="290.000000pt" viewBox="0 0 108.000000 290.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,290.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M535 2790 l300 -5 5 -1365 c3 -751 6 -1265 8 -1143 l2 222 93 3 92 3
3 914 c2 725 0 916 -10 923 -7 4 -50 8 -95 8 l-83 0 -2 223 -3 222 -305 0
-305 1 300 -6z m495 -1370 l0 -910 -90 0 -90 0 0 910 0 910 90 0 90 0 0 -910z"/>
<path d="M212 2573 l-2 -223 -74 0 c-41 0 -81 -3 -90 -6 -14 -6 -16 -96 -16
-925 l0 -919 90 0 90 0 0 -225 0 -225 313 2 312 3 -307 2 -308 3 -3 1368 c-1
752 -3 1267 -5 1145z m-2 -1153 l0 -910 -85 0 -85 0 0 910 0 910 85 0 85 0 0
-910z"/>
<path d="M407 2563 c-9 -8 -9 -2255 -1 -2277 4 -11 19 -16 45 -16 33 0 41 5
54 30 20 38 40 38 54 0 9 -27 14 -30 54 -30 32 0 47 5 51 16 8 20 8 2248 0
2268 -4 11 -19 16 -50 16 -38 0 -46 -4 -56 -25 -6 -14 -17 -25 -23 -25 -7 0
-20 11 -29 25 -13 19 -25 25 -55 25 -21 0 -41 -3 -44 -7z m91 -28 c7 -15 20
-25 32 -25 12 0 25 10 32 25 9 20 18 25 50 25 l38 0 0 -1140 0 -1140 -36 0
c-31 0 -37 4 -47 30 -16 41 -51 41 -72 -1 -13 -25 -21 -30 -46 -27 l-30 3 -2
1137 -2 1138 36 0 c28 0 38 -5 47 -25z"/>
</g>
</svg>`,
            'kumanda': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="299.000000pt" height="87.000000pt" viewBox="0 0 299.000000 87.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,87.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M10 430 l0 -420 1485 0 1485 0 0 420 0 420 -1485 0 -1485 0 0 -420z
m2960 0 l0 -410 -1475 0 -1475 0 0 410 0 410 1475 0 1475 0 0 -410z"/>
<path d="M1420 505 c0 -33 -2 -35 -25 -29 -56 14 -97 -22 -86 -76 8 -43 71
-66 99 -38 9 9 12 9 12 0 0 -7 5 -12 10 -12 6 0 10 38 10 95 0 57 -4 95 -10
95 -5 0 -10 -16 -10 -35z m-16 -51 c19 -18 21 -55 4 -72 -22 -22 -67 -14 -80
13 -22 50 38 97 76 59z"/>
<path d="M390 441 c0 -54 4 -91 10 -91 6 0 10 13 10 29 0 16 7 34 16 42 13 11
21 6 54 -32 21 -24 41 -41 44 -38 3 3 -10 24 -29 46 -19 23 -35 45 -35 50 0 5
16 24 35 43 19 18 32 36 30 39 -3 3 -30 -20 -60 -49 l-55 -54 0 46 c0 26 -4
50 -10 53 -6 4 -10 -27 -10 -84z"/>
<path d="M1710 440 c0 -53 4 -90 10 -90 6 0 10 14 10 30 0 29 2 30 44 30 35 0
48 5 60 22 22 31 20 45 -9 73 -18 19 -35 25 -70 25 l-45 0 0 -90z m108 58 c32
-32 0 -78 -54 -78 -34 0 -34 0 -34 45 l0 45 38 0 c21 0 43 -5 50 -12z"/>
<path d="M561 429 c0 -31 4 -60 11 -67 15 -15 61 -15 76 0 9 9 12 9 12 0 0 -7
5 -12 10 -12 6 0 10 28 10 65 0 37 -4 65 -10 65 -5 0 -10 -19 -10 -43 0 -48
-13 -67 -46 -67 -28 0 -37 13 -45 70 l-6 45 -2 -56z"/>
<path d="M730 413 c0 -76 18 -84 22 -12 3 59 25 82 56 63 12 -8 18 -27 20 -63
4 -66 20 -66 24 0 2 36 8 55 21 63 30 19 52 -4 55 -63 4 -63 22 -68 22 -5 0
64 -13 84 -55 84 -18 0 -37 -5 -40 -10 -4 -7 -13 -7 -25 0 -11 6 -38 9 -60 8
l-40 -3 0 -62z"/>
<path d="M994 469 c-4 -8 3 -9 25 -4 20 4 37 2 46 -5 23 -19 18 -27 -24 -34
-49 -7 -67 -27 -51 -55 9 -17 19 -21 60 -19 l50 2 0 38 c0 20 -4 48 -10 62 -8
22 -16 26 -49 26 -22 0 -43 -5 -47 -11z m86 -68 c0 -14 -29 -41 -44 -41 -18 0
-39 27 -31 40 8 12 75 14 75 1z"/>
<path d="M1140 415 c0 -37 4 -65 10 -65 6 0 10 20 10 43 0 30 6 49 18 60 41
37 72 13 72 -55 0 -26 5 -48 10 -48 13 0 13 86 0 111 -12 22 -68 27 -88 7 -9
-9 -12 -9 -12 0 0 7 -4 12 -10 12 -6 0 -10 -28 -10 -65z"/>
<path d="M1490 469 c-11 -8 -8 -9 13 -4 35 7 67 -2 67 -20 0 -8 -17 -16 -41
-20 -75 -13 -64 -69 15 -71 l46 -2 0 52 c0 29 -5 57 -12 64 -15 15 -68 15 -88
1z m80 -74 c0 -18 -34 -37 -54 -29 -16 6 -21 26 -9 37 13 14 63 7 63 -8z"/>
<path d="M1885 470 c-3 -6 9 -9 32 -7 28 1 38 -2 41 -15 2 -12 -7 -18 -37 -23
-27 -4 -42 -13 -46 -26 -11 -32 13 -50 61 -47 l44 3 0 51 c0 27 -5 55 -12 62
-14 14 -74 16 -83 2z m85 -68 c0 -19 -39 -44 -59 -37 -21 6 -28 25 -14 38 9
10 73 9 73 -1z"/>
<path d="M2030 415 c0 -78 16 -87 22 -12 5 56 1 77 -13 77 -5 0 -9 -29 -9 -65z"/>
<path d="M2065 470 c-4 -7 2 -9 18 -5 36 9 57 -17 57 -71 0 -26 5 -44 11 -44
15 0 6 94 -11 115 -14 17 -65 20 -75 5z"/>
<path d="M2204 455 c-47 -72 53 -145 106 -78 38 48 8 103 -57 103 -24 0 -37
-7 -49 -25z m91 -5 c27 -29 10 -74 -28 -78 -52 -6 -76 41 -40 80 21 24 45 23
68 -2z"/>
<path d="M2363 473 c-7 -2 -13 -13 -13 -23 0 -22 16 -35 53 -44 29 -7 36 -30
12 -40 -8 -3 -27 -1 -41 4 -20 8 -25 7 -22 -2 6 -17 66 -22 84 -7 27 22 16 47
-26 60 -51 15 -52 45 -2 43 18 -1 32 2 32 7 0 9 -56 11 -77 2z"/>
<path d="M2491 429 c0 -31 4 -60 11 -67 15 -15 61 -15 76 0 9 9 12 9 12 0 0
-7 5 -12 10 -12 6 0 10 28 10 65 0 37 -4 65 -10 65 -5 0 -10 -19 -10 -43 0
-48 -13 -67 -46 -67 -28 0 -37 13 -45 70 l-6 45 -2 -56z"/>
</g>
</svg>`,
            'elektrik': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="212.000000pt" height="168.000000pt" viewBox="0 0 212.000000 168.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,168.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M0 835 l0 -825 1055 0 1055 0 -2 823 -3 822 -1052 3 -1053 2 0 -825z
m2100 0 l0 -815 -1045 0 -1045 0 0 815 0 815 1045 0 1045 0 0 -815z"/>
<path d="M690 1170 c0 -73 4 -120 10 -120 6 0 10 47 10 120 0 73 -4 120 -10
120 -6 0 -10 -47 -10 -120z"/>
<path d="M970 1170 c0 -73 4 -120 10 -120 6 0 10 11 10 23 0 13 9 32 21 42 20
19 21 18 58 -25 51 -59 65 -45 16 15 l-38 45 39 35 c21 19 33 34 26 35 -8 0
-38 -21 -68 -46 l-54 -46 0 81 c0 47 -4 81 -10 81 -6 0 -10 -47 -10 -120z"/>
<path d="M1507 1283 c-4 -3 -7 -57 -7 -120 0 -94 3 -113 15 -113 10 0 15 10
15 28 0 16 8 32 20 39 17 11 23 8 51 -27 18 -22 39 -40 47 -40 9 0 2 15 -22
44 -20 24 -36 48 -36 52 0 5 14 23 32 41 51 52 10 39 -44 -14 l-48 -47 0 82
c0 75 -6 93 -23 75z"/>
<path d="M1417 1274 c-8 -8 1 -24 14 -24 5 0 9 7 9 15 0 15 -12 20 -23 9z"/>
<path d="M480 1160 l0 -110 80 0 c47 0 80 4 80 10 0 6 -28 10 -65 10 l-65 0 0
40 0 40 55 0 c30 0 55 5 55 10 0 6 -25 10 -55 10 l-55 0 0 40 0 40 59 0 c33 0
63 5 66 10 4 6 -23 10 -74 10 l-81 0 0 -110z"/>
<path d="M1170 1241 c0 -12 -7 -21 -15 -21 -8 0 -15 -4 -15 -9 0 -5 7 -11 15
-15 11 -4 15 -21 15 -64 0 -62 11 -82 46 -82 34 0 39 18 7 22 -27 3 -28 6 -31
66 -3 61 -2 62 23 62 14 0 25 5 25 10 0 6 -11 10 -25 10 -15 0 -25 6 -25 14 0
8 -4 18 -10 21 -5 3 -10 -3 -10 -14z"/>
<path d="M786 1194 c-54 -54 -18 -144 57 -144 35 0 77 23 64 36 -4 4 -13 2
-19 -4 -19 -19 -66 -14 -88 8 -30 30 -17 40 56 40 58 0 64 2 64 20 0 12 -11
32 -25 45 -32 33 -75 33 -109 -1z m96 -11 c33 -30 23 -43 -36 -43 -63 0 -75
11 -46 40 24 24 57 26 82 3z"/>
<path d="M1290 1135 c0 -50 4 -85 10 -85 6 0 10 20 10 44 0 61 14 94 45 102
14 3 25 10 25 15 0 14 -23 11 -48 -7 -20 -14 -22 -14 -22 0 0 9 -4 16 -10 16
-6 0 -10 -35 -10 -85z"/>
<path d="M1420 1135 c0 -50 4 -85 10 -85 6 0 10 35 10 85 0 50 -4 85 -10 85
-6 0 -10 -35 -10 -85z"/>
<path d="M490 530 c0 -67 4 -110 10 -110 6 0 10 16 10 35 l0 35 49 0 c64 0
101 28 101 76 0 55 -28 74 -105 74 l-65 0 0 -110z m134 74 c23 -22 20 -60 -6
-78 -12 -9 -42 -16 -65 -16 l-43 0 0 55 0 55 49 0 c32 0 55 -6 65 -16z"/>
<path d="M722 579 c-35 -14 -17 -29 18 -16 22 8 35 9 48 1 24 -16 28 -44 5
-44 -10 0 -35 -5 -55 -11 -32 -8 -38 -14 -38 -37 0 -16 5 -33 12 -40 16 -16
70 -16 86 0 9 9 12 9 12 0 0 -7 7 -12 15 -12 12 0 15 13 15 56 0 54 -12 92
-34 106 -15 10 -56 9 -84 -3z m88 -98 c0 -26 -24 -43 -57 -39 -18 2 -29 10
-31 22 -5 24 14 36 56 36 25 0 32 -4 32 -19z"/>
<path d="M900 505 c0 -50 4 -85 10 -85 6 0 10 25 10 55 0 60 22 95 59 95 36 0
51 -27 51 -91 0 -33 4 -59 10 -59 6 0 10 30 10 69 0 61 -3 72 -22 85 -12 9
-32 16 -43 16 -11 0 -31 -7 -43 -16 -20 -14 -22 -14 -22 0 0 9 -4 16 -10 16
-6 0 -10 -35 -10 -85z"/>
<path d="M1145 578 c-31 -18 -44 -40 -45 -76 0 -73 93 -110 145 -57 68 67 -17
181 -100 133z m78 -20 c28 -22 32 -73 8 -97 -53 -53 -134 6 -100 72 21 39 59
49 92 25z"/>
<path d="M1317 572 c-34 -38 -20 -61 51 -81 32 -9 42 -17 40 -29 -3 -14 -14
-17 -56 -16 -29 1 -52 -2 -52 -6 0 -22 86 -27 114 -7 11 8 17 23 14 38 -2 19
-13 27 -50 39 -58 19 -64 25 -47 46 9 12 24 15 51 11 38 -5 52 6 22 17 -30 12
-71 6 -87 -12z"/>
<path d="M1470 525 c0 -52 4 -69 20 -85 22 -22 60 -26 91 -10 13 7 19 7 19 0
0 -5 5 -10 10 -10 6 0 10 35 10 85 0 50 -4 85 -10 85 -6 0 -10 -26 -10 -58 0
-64 -18 -92 -58 -92 -37 0 -52 26 -52 91 0 33 -4 59 -10 59 -6 0 -10 -28 -10
-65z"/>
</g>
</svg>`,
            'baca': `<img src="data:image/png;base64,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" />`,
            'menfez': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="281.000000pt" height="99.000000pt" viewBox="0 0 281.000000 99.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,99.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M1398 953 l1382 -3 0 -455 0 -455 -1382 -3 -1383 -2 1388 -3 1387 -2
0 465 0 465 -1387 -2 -1388 -3 1383 -2z"/>
<path d="M850 496 c0 -109 18 -132 22 -28 l3 67 33 -57 c19 -32 35 -58 37 -58
2 0 20 28 39 63 l36 62 0 -72 c0 -42 4 -73 10 -73 6 0 10 39 10 98 -1 109 0
109 -64 4 l-32 -52 -38 65 c-21 36 -42 68 -47 71 -5 3 -9 -36 -9 -90z"/>
<path d="M1107 583 c-4 -3 -7 -46 -7 -95 l0 -88 65 0 c37 0 65 4 65 10 0 6
-25 10 -56 10 l-55 0 3 33 c3 30 5 32 53 38 l50 6 -52 1 -53 2 0 35 0 35 55 0
c30 0 55 5 55 10 0 11 -113 14 -123 3z"/>
<path d="M1280 495 c0 -57 4 -95 10 -95 6 0 10 32 10 76 l0 75 60 -75 c33 -42
65 -76 70 -76 13 0 13 177 0 185 -5 3 -10 -25 -12 -71 l-3 -77 -60 76 c-33 43
-63 77 -67 77 -5 0 -8 -43 -8 -95z"/>
<path d="M1500 495 c0 -57 4 -95 10 -95 6 0 10 18 10 40 l0 40 45 0 c25 0 45
5 45 10 0 6 -20 10 -45 10 -45 0 -45 0 -45 35 l0 35 56 0 c34 0 53 4 49 10 -3
6 -33 10 -66 10 l-59 0 0 -95z"/>
<path d="M1670 495 l0 -95 65 0 c37 0 65 4 65 10 0 6 -25 10 -55 10 l-55 0 0
34 c0 34 1 35 48 39 l47 3 -47 2 c-48 2 -48 2 -48 37 l0 35 50 0 c28 0 50 5
50 10 0 6 -27 10 -60 10 l-60 0 0 -95z"/>
<path d="M1830 580 c0 -5 27 -10 59 -12 l59 -3 -59 -74 c-32 -40 -59 -77 -59
-82 0 -5 34 -9 75 -9 89 0 101 18 15 22 l-59 3 58 75 c33 41 57 78 54 83 -6
11 -143 9 -143 -3z"/>
</g>
</svg>`,
            'merdiven': `<img src="data:image/png;base64,UklGRpIDAABXRUJQVlA4WAoAAAAgAAAAiwAA2AAASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZWUDggpAEAAJATAJ0BKowA2QA+USCNRCOiIRgEADgFBLS3cLlIeJYS/0CVAI4AtznmVaBYtZuTMhBfEH54qxx3XlaUqUl37kmlvBC/onBxDCZxGo3nrSIx2yada7ehrNC/cE/iZP/GVazZ1Hhxkm3xyRsh5uTQaujw5Ue8dtKZo4KvTEVIBWs2dCUB8Whi/Y+pIADD0EkR/7FBfESOTjy/ckwgw2rMt+5JpGjcIAD5+P/SapT4a3WzdwKeyMb3f22+m5S1cdMTBZ/vtopIZhhTxAd1LrsviBEL5s3i4MVH/WuNaMZqis0UTEayWZ+2LnVIhyzL/5z/9xK9jI/FKlfuVgj8eqhuEnAouEi9QiNWftgLEGqFO1PMCEAnIVaoyk+FlWKHscbgTxZ8u4ztvtm4qKi09ZyE+1wDW3JyQxZwABoHrybH1hOEU+ay2QmJGRRU1yvYzkqzjjuH4laSQITS9QUYMKb3ORkvDo64wlDbtH39AnlssxQXCh3GR98DyiipvtXTH8NWWR4gokrVcZwd/v//BI+/fALk27AJPJBLrZRgWl3o0QK0OsAAAA==" />`,
            'kapi': `<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="241.000000pt" height="232.000000pt" viewBox="0 0 241.000000 232.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,232.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M2105 2235 c-417 -73 -719 -180 -1015 -360 -187 -114 -390 -291 -527
-460 -260 -322 -439 -746 -523 -1238 -17 -97 -18 -120 -8 -131 11 -11 216 -11
1149 -2 1028 10 1137 13 1152 27 15 15 17 120 27 1088 10 949 10 1073 -4 1086
-20 21 -93 18 -251 -10z m131 -527 c-3 -282 -9 -755 -12 -1051 l-6 -537 -1074
0 c-591 0 -1074 1 -1074 3 0 15 35 186 55 272 69 291 193 592 331 806 344 532
890 864 1639 994 72 13 134 23 139 24 4 1 5 -228 2 -511z m90 0 c-3 -282 -9
-755 -12 -1050 l-6 -538 -25 0 -25 0 6 493 c3 270 9 743 12 1050 l6 557 25 0
25 0 -6 -512z m-2213 -1635 c-7 -2 -21 -2 -30 0 -10 3 -4 5 12 5 17 0 24 -2
18 -5z"/>
</g>
</svg>`,
        };

        // ==========================================
        // FABRIC.JS - COMPLETE WORKING SYSTEM
        // ==========================================
        
        let fabricCanvas = null;
        let currentMode = 'select';
        let isDrawing = false;
        let templateAdded = false;
        
        // Wait for page load
        window.addEventListener('load', function() {
            initializeFabricCanvas();
        });
        
        function initializeFabricCanvas() {
            const canvasEl = document.getElementById('fabricCanvas');
            if (!canvasEl) {
                console.log('Canvas element not found, retrying...');
                setTimeout(initializeFabricCanvas, 500);
                return;
            }
            
            console.log('Initializing Fabric.js canvas...');
            
            fabricCanvas = new fabric.Canvas('fabricCanvas', {
                isDrawingMode: false,
                backgroundColor: '#ffffff',
                selection: true,
                // High quality rendering
                enableRetinaScaling: true,
                renderOnAddRemove: true,
                skipOffscreen: false
            });
            
            // High quality rendering for all objects
            fabric.Object.prototype.objectCaching = false;
            fabric.Object.prototype.statefullCache = false;
            fabric.Object.prototype.noScaleCache = true;
            fabric.Object.prototype.needsItsOwnCache = function() {
                return false;
            };
            
            // Initial brush
            fabricCanvas.freeDrawingBrush = new fabric.PencilBrush(fabricCanvas);
            fabricCanvas.freeDrawingBrush.width = 5;
            fabricCanvas.freeDrawingBrush.color = '#000000';
            
            // Object styling
            fabric.Object.prototype.set({
                transparentCorners: false,
                cornerColor: '#667eea',
                cornerSize: 15,
                borderColor: '#667eea',
                cornerStyle: 'circle',
                cornerStrokeColor: 'white',
                borderScaleFactor: 2
            });
            
            console.log('Fabric.js initialized! Starting in SELECT mode');
        }
        
        // Set drawing mode
        function setDrawingMode(mode) {
            if (!fabricCanvas) return;
            
            currentMode = mode;
            
            console.log('Mode changed to:', mode);
            
            // Update button colors
            const buttons = document.querySelectorAll('[onclick^="setDrawingMode"]');
            buttons.forEach(btn => {
                btn.style.background = '#95a5a6';
            });
            
            // Highlight active button
            if (event && event.target) {
                event.target.style.background = 'var(--highlight)';
            }
            
            // Remove any existing cursor guide
            const existingGuide = fabricCanvas.getObjects().find(obj => obj.cursorGuide);
            if (existingGuide) {
                fabricCanvas.remove(existingGuide);
            }
            
            if (mode === 'pen') {
                fabricCanvas.isDrawingMode = true;
                fabricCanvas.selection = false;
                fabricCanvas.defaultCursor = 'crosshair';
            } else if (mode === 'select') {
                fabricCanvas.isDrawingMode = false;
                fabricCanvas.selection = true;
                fabricCanvas.defaultCursor = 'default';
            } else if (mode === 'text') {
                fabricCanvas.isDrawingMode = false;
                fabricCanvas.selection = false;
                fabricCanvas.defaultCursor = 'text';
                
                // Remove old mouse handlers
                fabricCanvas.off('mouse:down');
                fabricCanvas.off('mouse:move');
                
                // Show cursor guide on hover
                fabricCanvas.on('mouse:move', function(o) {
                    if (currentMode !== 'text') return;
                    
                    const pointer = fabricCanvas.getPointer(o.e);
                    
                    // Remove old guide
                    const oldGuide = fabricCanvas.getObjects().find(obj => obj.cursorGuide);
                    if (oldGuide) {
                        fabricCanvas.remove(oldGuide);
                    }
                    
                    // Create crosshair guide
                    const line1 = new fabric.Line([pointer.x - 10, pointer.y, pointer.x + 10, pointer.y], {
                        stroke: '#667eea',
                        strokeWidth: 1,
                        selectable: false,
                        evented: false,
                        cursorGuide: true
                    });
                    
                    const line2 = new fabric.Line([pointer.x, pointer.y - 10, pointer.x, pointer.y + 10], {
                        stroke: '#667eea',
                        strokeWidth: 1,
                        selectable: false,
                        evented: false,
                        cursorGuide: true
                    });
                    
                    fabricCanvas.add(line1);
                    fabricCanvas.add(line2);
                    fabricCanvas.renderAll();
                });
                
                // Click to add text
                fabricCanvas.on('mouse:down', function(o) {
                    if (currentMode !== 'text') return;
                    
                    const pointer = fabricCanvas.getPointer(o.e);
                    
                    // Remove cursor guide
                    const guides = fabricCanvas.getObjects().filter(obj => obj.cursorGuide);
                    guides.forEach(g => fabricCanvas.remove(g));
                    
                    const text = prompt('Metin girin:');
                    
                    if (text && text.trim()) {
                        const textObj = new fabric.IText(text, {
                            left: pointer.x,
                            top: pointer.y,
                            fontSize: 24,
                            fill: document.getElementById('fabricColor').value,
                            fontFamily: 'Arial',
                            // High quality
                            objectCaching: false
                        });
                        
                        fabricCanvas.add(textObj);
                        fabricCanvas.setActiveObject(textObj);
                        fabricCanvas.renderAll();
                        
                        // Auto switch to select mode
                        setTimeout(() => {
                            setDrawingMode('select');
                            const selectBtn = document.querySelector('[onclick*="select"]');
                            if (selectBtn) {
                                selectBtn.style.background = 'var(--highlight)';
                            }
                        }, 100);
                    }
                });
            } else {
                fabricCanvas.isDrawingMode = false;
                fabricCanvas.selection = false;
                fabricCanvas.defaultCursor = 'crosshair';
                setupShapeDrawing(mode);
            }
        }
        
        // Shape drawing
        function setupShapeDrawing(shapeType) {
            let startX, startY, shape;
            
            fabricCanvas.off('mouse:down');
            fabricCanvas.off('mouse:move');
            fabricCanvas.off('mouse:up');
            
            fabricCanvas.on('mouse:down', function(o) {
                if (currentMode === 'select' || currentMode === 'pen') return;
                
                isDrawing = true;
                const pointer = fabricCanvas.getPointer(o.e);
                startX = pointer.x;
                startY = pointer.y;
                
                const color = document.getElementById('fabricColor').value;
                const width = parseInt(document.getElementById('fabricWidth').value);
                
                if (shapeType === 'line') {
                    shape = new fabric.Line([startX, startY, startX, startY], {
                        stroke: color,
                        strokeWidth: width,
                        selectable: true
                    });
                } else if (shapeType === 'rect') {
                    shape = new fabric.Rect({
                        left: startX,
                        top: startY,
                        width: 0,
                        height: 0,
                        fill: 'transparent',
                        stroke: color,
                        strokeWidth: width
                    });
                }
                
                fabricCanvas.add(shape);
            });
            
            fabricCanvas.on('mouse:move', function(o) {
                if (!isDrawing) return;
                
                const pointer = fabricCanvas.getPointer(o.e);
                
                if (shapeType === 'line') {
                    shape.set({ x2: pointer.x, y2: pointer.y });
                } else if (shapeType === 'rect') {
                    const w = pointer.x - startX;
                    const h = pointer.y - startY;
                    shape.set({
                        width: Math.abs(w),
                        height: Math.abs(h),
                        left: w < 0 ? pointer.x : startX,
                        top: h < 0 ? pointer.y : startY
                    });
                }
                
                fabricCanvas.renderAll();
            });
            
            fabricCanvas.on('mouse:up', function() {
                isDrawing = false;
                shape = null;
            });
        }
        
        // Update brush color
        function updateBrushColor() {
            if (!fabricCanvas) return;
            const color = document.getElementById('fabricColor').value;
            if (fabricCanvas.freeDrawingBrush) {
                fabricCanvas.freeDrawingBrush.color = color;
            }
        }
        
        // Update brush width
        function updateBrushWidth() {
            if (!fabricCanvas) return;
            const width = parseInt(document.getElementById('fabricWidth').value);
            if (fabricCanvas.freeDrawingBrush) {
                fabricCanvas.freeDrawingBrush.width = width;
            }
        }
        
        // Add template
        function addTemplate() {
            if (!fabricCanvas) return;
            
            const btn = event.target;
            
            if (templateAdded) {
                // Remove template
                fabricCanvas.getObjects().forEach(obj => {
                    if (obj.templateObj) {
                        fabricCanvas.remove(obj);
                    }
                });
                templateAdded = false;
                btn.style.background = '#27ae60';
                btn.innerHTML = 'üìê ≈ûablon';
            } else {
                // Add template
                const rect = new fabric.Rect({
                    left: 100,
                    top: 100,
                    width: 600,
                    height: 500,
                    fill: 'transparent',
                    stroke: '#999999',
                    strokeWidth: 3,
                    strokeDashArray: [10, 5],
                    selectable: false,
                    evented: false,
                    templateObj: true
                });
                
                const text = new fabric.Text('≈ûABLON ALANI', {
                    left: 280,
                    top: 330,
                    fontSize: 24,
                    fill: '#cccccc',
                    selectable: false,
                    evented: false,
                    templateObj: true
                });
                
                fabricCanvas.add(rect);
                fabricCanvas.add(text);
                fabricCanvas.sendToBack(rect);
                fabricCanvas.sendToBack(text);
                fabricCanvas.renderAll();
                
                templateAdded = true;
                btn.style.background = '#16a085';
                btn.innerHTML = '‚úì ≈ûablon Aktif';
            }
        }
        
        // Delete selected object
        function deleteSelected() {
            if (!fabricCanvas) return;
            
            console.log('Delete selected called');
            
            const active = fabricCanvas.getActiveObjects();
            console.log('Active objects:', active.length);
            
            if (active.length > 0) {
                active.forEach(obj => {
                    console.log('Removing object:', obj.type);
                    fabricCanvas.remove(obj);
                });
                fabricCanvas.discardActiveObject();
                fabricCanvas.renderAll();
                console.log('Objects deleted');
            } else {
                console.log('No objects selected');
            }
        }
        
        // Clear canvas
        function clearCanvas() {
            if (!fabricCanvas) return;
            
            console.log('Clear canvas called');
            
            if (confirm('T√ºm √ßizimleri silmek istediƒüinizden emin misiniz?')) {
                console.log('User confirmed, clearing...');
                fabricCanvas.clear();
                fabricCanvas.backgroundColor = '#ffffff';
                templateAdded = false;
                fabricCanvas.renderAll();
                console.log('Canvas cleared');
            } else {
                console.log('User cancelled');
            }
        }
        
        // Add icon to canvas
        function addIcon(iconType) {
            console.log('=== ADD ICON START ===');
            console.log('Icon type:', iconType);
            
            if (!fabricCanvas) {
                console.error('Canvas not ready!');
                alert('Canvas hen√ºz hazƒ±r deƒüil, l√ºtfen bekleyin...');
                return;
            }
            
            if (!window.iconSVGs || !window.iconSVGs[iconType]) {
                console.error('ƒ∞kon bulunamadƒ±:', iconType);
                alert('ƒ∞kon bulunamadƒ±: ' + iconType);
                return;
            }
            
            const svgString = window.iconSVGs[iconType];
            console.log('Loading icon, size:', svgString.length);
            
            // Icon size - smaller on mobile
            const isMobile = window.innerWidth <= 768;
            const ICON_SIZE = isMobile ? 80 : 120;
            
            // Check if PNG (base64 image)
            if (svgString.includes('data:image/png') || svgString.includes('<img')) {
                console.log('Loading PNG...');
                const match = svgString.match(/src="([^"]+)"/);
                if (match) {
                    fabric.Image.fromURL(match[1], function(img) {
                        if (!img) {
                            console.error('Failed to load PNG');
                            return;
                        }
                        
                        // Calculate scale for consistent size
                        const scale = ICON_SIZE / Math.max(img.width, img.height);
                        
                        img.set({
                            left: 200,
                            top: 200,
                            scaleX: scale,
                            scaleY: scale,
                            // High quality settings
                            objectCaching: false,
                            statefullCache: false
                        });
                        
                        fabricCanvas.add(img);
                        fabricCanvas.setActiveObject(img);
                        fabricCanvas.renderAll();
                        console.log('‚úì PNG added with scale:', scale);
                        
                        // Auto switch to select mode
                        setTimeout(() => {
                            setDrawingMode('select');
                            const selectBtn = document.querySelector('[onclick*="select"]');
                            if (selectBtn) {
                                selectBtn.style.background = 'var(--highlight)';
                            }
                            
                            // Disable drawing tools
                            disableDrawingTools();
                        }, 100);
                    }, {
                        crossOrigin: 'anonymous'
                    });
                }
            } else {
                console.log('Loading SVG...');
                
                fabric.loadSVGFromString(svgString, function(objects, options) {
                    if (!objects || objects.length === 0) {
                        console.error('SVG parsing failed');
                        return;
                    }
                    
                    const obj = fabric.util.groupSVGElements(objects, options);
                    
                    // Calculate scale for consistent size
                    const scale = ICON_SIZE / Math.max(obj.width, obj.height);
                    
                    obj.set({
                        left: 200,
                        top: 200,
                        scaleX: scale,
                        scaleY: scale,
                        // High quality settings
                        objectCaching: false,
                        statefullCache: false,
                        // Smooth rendering
                        strokeWidth: 0
                    });
                    
                    fabricCanvas.add(obj);
                    fabricCanvas.setActiveObject(obj);
                    fabricCanvas.renderAll();
                    console.log('‚úì SVG added with scale:', scale);
                    
                    // Auto switch to select mode
                    setTimeout(() => {
                        setDrawingMode('select');
                        const selectBtn = document.querySelector('[onclick*="select"]');
                        if (selectBtn) {
                            selectBtn.style.background = 'var(--highlight)';
                        }
                        
                        // Disable drawing tools
                        disableDrawingTools();
                    }, 100);
                });
            }
            
            console.log('=== ADD ICON END ===');
        }
        
        // Undo last action
        function undoLast() {
            if (!fabricCanvas) return;
            
            const objects = fabricCanvas.getObjects();
            if (objects.length > 0) {
                // Remove last non-template object
                for (let i = objects.length - 1; i >= 0; i--) {
                    if (!objects[i].templateObj) {
                        fabricCanvas.remove(objects[i]);
                        fabricCanvas.renderAll();
                        break;
                    }
                }
            }
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (!fabricCanvas) return;
            
            // Delete key
            if (e.key === 'Delete' || e.key === 'Backspace') {
                deleteSelected();
                e.preventDefault();
            }
        });


        // ==========================================
        // PHOTO UPLOAD SYSTEM
        // ==========================================
        
        const uploadedPhotos = {};
        
        // Initialize photo upload on page load
        document.addEventListener('DOMContentLoaded', function() {
            const photoPlaceholders = document.querySelectorAll('.photo-placeholder');
            
            photoPlaceholders.forEach((placeholder, index) => {
                // Create hidden file input
                const fileInput = document.createElement('input');
                fileInput.type = 'file';
                fileInput.accept = 'image/*';
                fileInput.capture = 'environment'; // Enable camera on mobile
                fileInput.style.display = 'none';
                fileInput.id = `photo-input-${index}`;
                
                placeholder.appendChild(fileInput);
                
                // Click to upload
                placeholder.addEventListener('click', function() {
                    fileInput.click();
                });
                
                // Handle file selection
                fileInput.addEventListener('change', function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            // Store photo data
                            uploadedPhotos[`photo_${index}`] = {
                                data: event.target.result,
                                name: file.name
                            };
                            
                            // Show preview
                            placeholder.style.backgroundImage = `url(${event.target.result})`;
                            placeholder.style.backgroundSize = 'cover';
                            placeholder.style.backgroundPosition = 'center';
                            placeholder.innerHTML = '<div style="background: rgba(0,0,0,0.6); color: white; padding: 5px 10px; border-radius: 5px; font-size: 14px;">‚úì Y√ºklendi</div>';
                            
                            console.log('Photo uploaded:', file.name);
                        };
                        reader.readAsDataURL(file);
                    }
                });
            });
        });
        
        // ==========================================
        // PDF GENERATION AND WHATSAPP NOTIFICATION
        // ==========================================
        
        const WHATSAPP_NUMBER = '+905065213729'; // BNM WhatsApp
        
        // Form submission handler
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('elevatorForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                console.log('Form submission started...');
                
                // Show loading
                const submitBtn = document.getElementById('submitBtn');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<span>‚è≥</span><span>PDF Olu≈üturuluyor...</span>';
                submitBtn.disabled = true;
                
                try {
                    // Collect all form data
                    const formData = collectFormData();
                    
                    // Generate PDF
                    console.log('Generating PDF...');
                    const pdfBlob = await generatePDF(formData);
                    
                    // Success
                    submitBtn.innerHTML = '<span>‚úì</span><span>PDF Hazƒ±r!</span>';
                    submitBtn.style.background = '#27ae60';
                    
                    // Create blob URL
                    const blobUrl = URL.createObjectURL(pdfBlob);
                    const fileName = 'asansor-formu-' + Date.now() + '.pdf';
                    
                    // Download PDF
                    const link = document.createElement('a');
                    link.href = blobUrl;
                    link.download = fileName;
                    link.click();
                    
                    // Open PDF in new tab (for Chrome & Safari)
                    setTimeout(() => {
                        window.open(blobUrl, '_blank');
                    }, 500);
                    
                    // Show success message with WhatsApp option
                    setTimeout(() => {
                        if (confirm('‚úÖ PDF ba≈üarƒ±yla olu≈üturuldu ve indirildi!\n\nüìÑ PDF yeni sekmede a√ßƒ±ldƒ±.\n\nüì± WhatsApp ile bildirim g√∂ndermek ister misiniz?')) {
                            sendWhatsAppNotification(formData);
                        }
                    }, 1500);
                    
                    // Reset button after 3 seconds
                    setTimeout(() => {
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                        submitBtn.style.background = '';
                    }, 3000);
                    
                } catch (error) {
                    console.error('Submission error:', error);
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    alert('‚ùå PDF olu≈üturulurken hata olu≈ütu:\n\n' + error.message + '\n\nL√ºtfen tekrar deneyin.');
                }
            });
        });
        
        // Send WhatsApp notification
        function sendWhatsAppNotification(formData) {
            const musteri = formData.firma || formData.yapi_sahibi || 'Yeni M√º≈üteri';
            const telefon = formData.telefon || '-';
            const adres = formData.yapi_adresi || '-';
            const tarih = formData.tarih || new Date().toLocaleDateString('tr-TR');
            
            const message = `üè¢ *YENƒ∞ ASANS√ñR FORMU*\n\n` +
                `üìã *M√º≈üteri:* ${musteri}\n` +
                `üìû *Telefon:* ${telefon}\n` +
                `üìç *Adres:* ${adres}\n` +
                `üìÖ *Tarih:* ${tarih}\n\n` +
                `‚úÖ Form dolduruldu ve PDF olu≈üturuldu.\n` +
                `M√º≈üteri PDF'i indirecek ve size iletecektir.`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/${WHATSAPP_NUMBER.replace(/[^0-9]/g, '')}?text=${encodedMessage}`;
            
            console.log('Opening WhatsApp...', whatsappURL);
            
            // Open WhatsApp in new tab
            window.open(whatsappURL, '_blank');
        }
        
        // Download PDF
        // Collect all form data
        function collectFormData() {
            const data = {
                timestamp: new Date().toLocaleString('tr-TR'),
                photos: uploadedPhotos
            };
            
            // Get all input, select, textarea values
            document.querySelectorAll('input, select, textarea').forEach(el => {
                if (el.id && el.type !== 'file') {
                    if (el.type === 'checkbox') {
                        data[el.id] = el.checked;
                    } else if (el.type === 'radio') {
                        if (el.checked) {
                            data[el.name] = el.value;
                        }
                    } else {
                        data[el.id] = el.value;
                    }
                }
            });
            
            // Get canvas drawing as image
            if (fabricCanvas) {
                data.machineRoomDrawing = fabricCanvas.toDataURL({
                    format: 'png',
                    quality: 1
                });
            }
            
            return data;
        }
        
        // T√ºrk√ße karakter d√∂n√º≈üt√ºrme fonksiyonu
        function turkishToAscii(text) {
            if (!text) return '-';
            const turkishChars = {
                '√ß': 'c', '√á': 'C',
                'ƒü': 'g', 'ƒû': 'G',
                'ƒ±': 'i', 'ƒ∞': 'I',
                '√∂': 'o', '√ñ': 'O',
                '≈ü': 's', '≈û': 'S',
                '√º': 'u', '√ú': 'U'
            };
            return String(text).replace(/[√ß√áƒüƒûƒ±ƒ∞√∂√ñ≈ü≈û√º√ú]/g, char => turkishChars[char] || char);
        }
        
        // Alan isimlerini d√ºzg√ºn label'a √ßevirme
        function getFieldLabel(key) {
            const labels = {
                'tarih': 'Tarih',
                'firma': 'Asansor Firmasi',
                'muteahhit': 'Muteahhit',
                'yapi_sahibi': 'Yapi Sahibi',
                'yapi_adresi': 'Yapi Adresi',
                'telefon': 'Telefon',
                'email': 'E-posta',
                'ada': 'Ada',
                'pafta': 'Pafta',
                'parsel': 'Parsel',
                'seri_no': 'Asansor Seri No',
                'hiz': 'Hiz',
                'kapasite': 'Kisi Sayisi / Kapasite',
                'kapasite_diger': 'Kapasite (Diger)',
                'durak_sayisi': 'Durak Sayisi',
                'seyir_mesafesi': 'Seyir Mesafesi (m)',
                'makine_dairesi': 'Makine Dairesi',
                'kabin_eni': 'Kabin Eni (cm)',
                'kabin_derinlik': 'Kabin Derinligi (cm)',
                'sol_antre': 'Sol Antre (cm)',
                'sag_antre': 'Sag Antre (cm)',
                'kapi_tipi': 'Kapi Tipi',
                'panel_sayisi': 'Panel Sayisi',
                'kapi_genislik': 'Kapi Genisligi (cm)',
                'kapi_genislik_diger': 'Kapi Genisligi - Diger (cm)',
                'kapi_toplama': 'Kapi Toplama Yonu',
                'kuyu_genislik': 'Kuyu Genisligi (cm)',
                'kuyu_derinlik': 'Kuyu Derinligi (cm)',
                'kat_yukseklik': 'Kat Yuksekligi (cm)',
                'konsol': 'Konsollar Arasi Max Mesafe (cm)',
                'kuyu_dibi': 'Kuyu Dibi (cm)',
                'kumbet_yuk': 'Kumbet Yuksekligi (cm)',
                'son_kat_yuk': 'Son Kat Yuksekligi (cm)',
                'kumbet_tavan': 'Kumbet-Tavan (cm)',
                'ana_ray': 'Ana Ray',
                'agirlik_ray': 'Agirlik Rayi',
                'agirlik_yeri': 'Agirlik Yeri',
                'regulator_yeri': 'Regulator Yeri',
                'kabin_ray_arasi': 'Kabin Raylari Arasi (cm)',
                'agirlik_ray_arasi': 'Agirlik Raylari Arasi (cm)',
                'ray_kapi': 'Ray - Kapi Arasi (cm)',
                'ray_ray': 'Ray - Ray Arasi (cm)',
                'makine_marka': 'Makine-Motor Marka',
                'makine_model': 'Makine-Motor Model',
                'makine_seri': 'Makine-Motor Seri No',
                'regulator_marka': 'Hiz Regulatoru Marka',
                'regulator_model': 'Hiz Regulatoru Model',
                'regulator_seri': 'Hiz Regulatoru Seri No',
                'kumanda_marka': 'Kumanda Karti Marka',
                'kumanda_model': 'Kumanda Karti Model',
                'kumanda_seri': 'Kumanda Karti Seri No',
                'fren_marka': 'Fren Blogu Marka',
                'fren_model': 'Fren Blogu Model',
                'fren_seri': 'Fren Blogu Seri No',
                'kabin_tampon_marka': 'Kabin Tamponu Marka',
                'kabin_tampon_model': 'Kabin Tamponu Model',
                'kabin_tampon_seri': 'Kabin Tamponu Seri No',
                'agirlik_tampon_marka': 'Agirlik Tamponu Marka',
                'agirlik_tampon_model': 'Agirlik Tamponu Model',
                'agirlik_tampon_seri': 'Agirlik Tamponu Seri No',
                'kapi_kilidi_marka': 'Kapi Kilitleri Marka',
                'kapi_kilidi_model': 'Kapi Kilitleri Model',
                'start_floor': 'Baslangic Kati',
                'makine_tipi': 'Makine Tipi',
                'kasnak_capi': 'Makine Kasnak Capi',
                'kasnak_konum': 'Dislisiz Kabin-Kasnak Konumu',
                'kasnak_ray_position': 'Kasnaklar Ana Ray Konumu',
                'aski_tipi': 'Aski Tipi',
                'halat_adet': 'Halat Adedi x Capi',
                'halat_diger': 'Halat - Diger',
                'motor_guc': 'Motor Gucu (kW)',
                'kumbet_ust_genislik': 'Kumbet Ustu Genislik (cm)',
                'kumbet_ust_derinlik': 'Kumbet Ustu Derinlik (cm)',
                'kumbet_alt_genislik': 'Kumbet Alti Genislik (cm)',
                'kumbet_alt_derinlik': 'Kumbet Alti Derinlik (cm)'
            };
            return labels[key] || turkishToAscii(key.replace(/_/g, ' '));
        }
        
        // Generate PDF using jsPDF
        async function generatePDF(formData) {
            // Load jsPDF library
            if (typeof jspdf === 'undefined') {
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';
                document.head.appendChild(script);
                await new Promise(resolve => script.onload = resolve);
            }
            
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF('p', 'mm', 'a4');
            
            const pageWidth = 210;
            const margin = 15;
            const contentWidth = pageWidth - (2 * margin);
            let y = 15;
            
            // Header
            pdf.setFillColor(26, 26, 46);
            pdf.rect(0, 0, pageWidth, 35, 'F');
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(18);
            pdf.text('BNM MUHENDISLIK', pageWidth / 2, 15, { align: 'center' });
            pdf.setFontSize(12);
            pdf.text('Asansor Teknik Olcum Formu', pageWidth / 2, 23, { align: 'center' });
            pdf.setFontSize(9);
            pdf.text('Tarih: ' + turkishToAscii(formData.timestamp), pageWidth / 2, 30, { align: 'center' });
            
            y = 45;
            pdf.setTextColor(0, 0, 0);
            
            // Section helper function
            function addSection(title, fields) {
                if (y > 250) {
                    pdf.addPage();
                    y = 20;
                }
                
                // Section header
                pdf.setFillColor(233, 69, 96);
                pdf.rect(margin, y, contentWidth, 8, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(11);
                pdf.text(turkishToAscii(title), margin + 3, y + 6);
                y += 12;
                pdf.setTextColor(0, 0, 0);
                
                // Fields
                pdf.setFontSize(10);
                fields.forEach(field => {
                    if (y > 275) {
                        pdf.addPage();
                        y = 20;
                    }
                    
                    const value = formData[field.key];
                    if (value !== undefined && value !== '' && value !== null) {
                        pdf.setFont(undefined, 'bold');
                        pdf.text(field.label + ':', margin, y);
                        pdf.setFont(undefined, 'normal');
                        
                        const displayValue = turkishToAscii(String(value));
                        // Uzun metinleri sar
                        if (displayValue.length > 50) {
                            const lines = pdf.splitTextToSize(displayValue, contentWidth - 60);
                            pdf.text(lines[0], margin + 60, y);
                            for (let i = 1; i < lines.length && i < 3; i++) {
                                y += 5;
                                if (y > 275) { pdf.addPage(); y = 20; }
                                pdf.text(lines[i], margin + 60, y);
                            }
                        } else {
                            pdf.text(displayValue, margin + 60, y);
                        }
                        y += 6;
                    }
                });
                y += 3;
            }
            
            // BOLUM 1: GENEL BILGILER
            addSection('GENEL BILGILER', [
                { key: 'tarih', label: 'Tarih' },
                { key: 'firma', label: 'Asansor Firmasi' },
                { key: 'muteahhit', label: 'Muteahhit' },
                { key: 'yapi_sahibi', label: 'Yapi Sahibi' },
                { key: 'yapi_adresi', label: 'Yapi Adresi' },
                { key: 'telefon', label: 'Telefon' },
                { key: 'email', label: 'E-posta' },
                { key: 'ada', label: 'Ada' },
                { key: 'pafta', label: 'Pafta' },
                { key: 'parsel', label: 'Parsel' }
            ]);
            
            // BOLUM 2: ASANSOR OZELLIKLERI
            addSection('ASANSOR OZELLIKLERI', [
                { key: 'seri_no', label: 'Asansor Seri No' },
                { key: 'hiz', label: 'Hiz' },
                { key: 'kapasite', label: 'Kapasite' },
                { key: 'kapasite_diger', label: 'Kapasite (Diger)' },
                { key: 'durak_sayisi', label: 'Durak Sayisi' },
                { key: 'seyir_mesafesi', label: 'Seyir Mesafesi (m)' },
                { key: 'makine_dairesi', label: 'Makine Dairesi' }
            ]);
            
            // BOLUM 3: KABIN OLCULERI
            addSection('KABIN OLCULERI', [
                { key: 'kabin_eni', label: 'Kabin Eni (cm)' },
                { key: 'kabin_derinlik', label: 'Kabin Derinligi (cm)' },
                { key: 'sol_antre', label: 'Sol Antre (cm)' },
                { key: 'sag_antre', label: 'Sag Antre (cm)' }
            ]);
            
            // BOLUM 4: KAPI BILGILERI
            addSection('KAPI BILGILERI', [
                { key: 'kapi_tipi', label: 'Kapi Tipi' },
                { key: 'panel_sayisi', label: 'Panel Sayisi' },
                { key: 'kapi_genislik', label: 'Kapi Genisligi (cm)' },
                { key: 'kapi_genislik_diger', label: 'Kapi Genisligi - Diger' },
                { key: 'kapi_toplama', label: 'Kapi Toplama Yonu' }
            ]);
            
            // BOLUM 5: KUYU OLCULERI
            addSection('KUYU OLCULERI', [
                { key: 'kuyu_genislik', label: 'Kuyu Genisligi (cm)' },
                { key: 'kuyu_derinlik', label: 'Kuyu Derinligi (cm)' },
                { key: 'kat_yukseklik', label: 'Kat Yuksekligi (cm)' },
                { key: 'konsol', label: 'Konsollar Arasi (cm)' },
                { key: 'kuyu_dibi', label: 'Kuyu Dibi (cm)' },
                { key: 'kumbet_yuk', label: 'Kumbet Yuksekligi (cm)' },
                { key: 'son_kat_yuk', label: 'Son Kat Yuksekligi (cm)' },
                { key: 'kumbet_tavan', label: 'Kumbet-Tavan (cm)' }
            ]);
            
            // BOLUM 6: RAY VE AGIRLIK SISTEMI
            addSection('RAY VE AGIRLIK SISTEMI', [
                { key: 'ana_ray', label: 'Ana Ray' },
                { key: 'agirlik_ray', label: 'Agirlik Rayi' },
                { key: 'agirlik_yeri', label: 'Agirlik Yeri' },
                { key: 'regulator_yeri', label: 'Regulator Yeri' },
                { key: 'kabin_ray_arasi', label: 'Kabin Raylari Arasi (cm)' },
                { key: 'agirlik_ray_arasi', label: 'Agirlik Raylari Arasi (cm)' },
                { key: 'ray_kapi', label: 'Ray - Kapi Arasi (cm)' },
                { key: 'ray_ray', label: 'Ray - Ray Arasi (cm)' }
            ]);
            
            // BOLUM 7: GUVENLIK KOMPONENT LISTESI
            addSection('MAKINE-MOTOR', [
                { key: 'makine_marka', label: 'Marka' },
                { key: 'makine_model', label: 'Model' },
                { key: 'makine_seri', label: 'Seri No' }
            ]);
            
            addSection('HIZ REGULATORU', [
                { key: 'regulator_marka', label: 'Marka' },
                { key: 'regulator_model', label: 'Model' },
                { key: 'regulator_seri', label: 'Seri No' }
            ]);
            
            addSection('KUMANDA KARTI', [
                { key: 'kumanda_marka', label: 'Marka' },
                { key: 'kumanda_model', label: 'Model' },
                { key: 'kumanda_seri', label: 'Seri No' }
            ]);
            
            addSection('FREN BLOGU', [
                { key: 'fren_marka', label: 'Marka' },
                { key: 'fren_model', label: 'Model' },
                { key: 'fren_seri', label: 'Seri No' }
            ]);
            
            addSection('KABIN TAMPONU', [
                { key: 'kabin_tampon_marka', label: 'Marka' },
                { key: 'kabin_tampon_model', label: 'Model' },
                { key: 'kabin_tampon_seri', label: 'Seri No' }
            ]);
            
            addSection('AGIRLIK TAMPONU', [
                { key: 'agirlik_tampon_marka', label: 'Marka' },
                { key: 'agirlik_tampon_model', label: 'Model' },
                { key: 'agirlik_tampon_seri', label: 'Seri No' }
            ]);
            
            addSection('KAPI KILITLERI', [
                { key: 'kapi_kilidi_marka', label: 'Marka' },
                { key: 'kapi_kilidi_model', label: 'Model' },
                { key: 'start_floor', label: 'Baslangic Kati' }
            ]);
            
            // Kat seri numaralari
            const katSeriler = [];
            document.querySelectorAll('#kapi_kilidi_seriler input').forEach(input => {
                if (input.value) {
                    katSeriler.push({ kat: input.dataset.kat, seri: input.value });
                }
            });
            if (katSeriler.length > 0) {
                if (y > 250) { pdf.addPage(); y = 20; }
                pdf.setFontSize(10);
                pdf.setFont(undefined, 'bold');
                pdf.text('Kapi Kilidi Seri Numaralari:', margin, y);
                y += 6;
                pdf.setFont(undefined, 'normal');
                katSeriler.forEach(item => {
                    if (y > 275) { pdf.addPage(); y = 20; }
                    const katLabel = item.kat == 0 ? 'Zemin Kat' : item.kat + '. Kat';
                    pdf.text(katLabel + ': ' + turkishToAscii(item.seri), margin + 5, y);
                    y += 5;
                });
                y += 5;
            }
            
            // BOLUM 8: MAKINE OZELLIKLERI
            addSection('MAKINE OZELLIKLERI', [
                { key: 'makine_tipi', label: 'Makine Tipi' },
                { key: 'kasnak_capi', label: 'Makine Kasnak Capi' },
                { key: 'kasnak_konum', label: 'Kabin-Kasnak Konumu' },
                { key: 'kasnak_ray_position', label: 'Kasnaklar Ana Ray Konumu' },
                { key: 'halat_adet', label: 'Halat Adedi x Capi' },
                { key: 'halat_diger', label: 'Halat - Diger' },
                { key: 'motor_guc', label: 'Motor Gucu (kW)' }
            ]);
            
            // Di≈ülili Askƒ± Tipi (checkbox'lardan)
            const askiCheckboxes = document.querySelectorAll('input[name="aski_type"]:checked');
            if (askiCheckboxes.length > 0) {
                if (y > 270) { pdf.addPage(); y = 20; }
                pdf.setFontSize(10);
                pdf.setFont(undefined, 'bold');
                pdf.text('Dislili Aski Tipi:', margin, y);
                pdf.setFont(undefined, 'normal');
                const askiValues = Array.from(askiCheckboxes).map(cb => cb.value).join(', ');
                pdf.text(askiValues, margin + 60, y);
                y += 8;
            }
            
            // BOLUM 9: MAKINE DAIRESI OLCULERI
            addSection('MAKINE DAIRESI OLCULERI', [
                { key: 'kumbet_ust_genislik', label: 'Kumbet Ustu Genislik (cm)' },
                { key: 'kumbet_ust_derinlik', label: 'Kumbet Ustu Derinlik (cm)' },
                { key: 'kumbet_alt_genislik', label: 'Kumbet Alti Genislik (cm)' },
                { key: 'kumbet_alt_derinlik', label: 'Kumbet Alti Derinlik (cm)' }
            ]);
            
            // EK NOTLAR
            const ekNotlar = document.getElementById('ek_notlar');
            if (ekNotlar && ekNotlar.value && ekNotlar.value.trim() !== '') {
                if (y > 240) { pdf.addPage(); y = 20; }
                
                pdf.setFillColor(233, 69, 96);
                pdf.rect(margin, y, contentWidth, 8, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(11);
                pdf.text('EK NOTLAR', margin + 3, y + 6);
                y += 12;
                pdf.setTextColor(0, 0, 0);
                
                pdf.setFontSize(10);
                const notlarText = turkishToAscii(ekNotlar.value);
                const notlarLines = pdf.splitTextToSize(notlarText, contentWidth);
                notlarLines.forEach(line => {
                    if (y > 275) { pdf.addPage(); y = 20; }
                    pdf.text(line, margin, y);
                    y += 5;
                });
                y += 5;
            }
            
            // Add machine room drawing
            if (formData.machineRoomDrawing) {
                pdf.addPage();
                y = 20;
                pdf.setFillColor(233, 69, 96);
                pdf.rect(margin, y, contentWidth, 8, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(11);
                pdf.text('MAKINE DAIRESI CIZIMI', margin + 3, y + 6);
                y += 15;
                pdf.setTextColor(0, 0, 0);
                
                try {
                    pdf.addImage(formData.machineRoomDrawing, 'PNG', margin, y, contentWidth, 150);
                } catch(e) {
                    console.error('Cizim eklenemedi:', e);
                }
            }
            
            // Add photos
            const photoKeys = Object.keys(formData.photos);
            if (photoKeys.length > 0) {
                pdf.addPage();
                y = 20;
                
                pdf.setFillColor(233, 69, 96);
                pdf.rect(margin, y, contentWidth, 8, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(11);
                pdf.text('FOTOGRAFLAR', margin + 3, y + 6);
                y += 15;
                pdf.setTextColor(0, 0, 0);
                
                let photoIndex = 0;
                for (const [key, photo] of Object.entries(formData.photos)) {
                    // Her sayfaya 2 fotoƒüraf
                    if (photoIndex > 0 && photoIndex % 2 === 0) {
                        pdf.addPage();
                        y = 20;
                    }
                    
                    try {
                        pdf.setFontSize(10);
                        pdf.text(turkishToAscii(photo.name || key), margin, y);
                        y += 5;
                        pdf.addImage(photo.data, 'JPEG', margin, y, 85, 65);
                        y += 75;
                        photoIndex++;
                    } catch(e) {
                        console.error('Fotograf eklenemedi:', key, e);
                    }
                }
            }
            
            // Footer on each page
            const pageCount = pdf.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                pdf.setPage(i);
                pdf.setFontSize(8);
                pdf.setTextColor(128, 128, 128);
                pdf.text('BNM Muhendislik - Asansor Teknik Olcum Formu', pageWidth / 2, 290, { align: 'center' });
                pdf.text('Sayfa ' + i + ' / ' + pageCount, pageWidth - margin, 290, { align: 'right' });
            }
            
            return pdf.output('blob');
        }

    </script>
</body>
</html>
